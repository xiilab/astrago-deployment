# AstraGo ì¸í”„ë¼ ì˜¨ë³´ë”© ìë£Œ

## ğŸ“‹ ëª©ì°¨

1. [ì†”ë£¨ì…˜ ê°œìš”](#ì†”ë£¨ì…˜-ê°œìš”)
2. [ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì„±ë„](#ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì„±ë„)
3. [í•˜ë“œì›¨ì–´ êµ¬ì„±](#í•˜ë“œì›¨ì–´-êµ¬ì„±)
4. [ë¯¸ë“¤ì›¨ì–´ êµ¬ì„±](#ë¯¸ë“¤ì›¨ì–´-êµ¬ì„±)
5. [ì†Œí”„íŠ¸ì›¨ì–´(ì• í”Œë¦¬ì¼€ì´ì…˜) êµ¬ì„±](#ì†Œí”„íŠ¸ì›¨ì–´ì• í”Œë¦¬ì¼€ì´ì…˜-êµ¬ì„±)
6. [CI/CD íŒŒì´í”„ë¼ì¸](#cicd-íŒŒì´í”„ë¼ì¸)
7. [AstraGo ì˜¨/ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ ë°©ë²•](#astrago-ì˜¨ì˜¤í”„ë¼ì¸-ì„¤ì¹˜-ë°©ë²•)

---

## ì†”ë£¨ì…˜ ê°œìš”

### AstraGo ì†”ë£¨ì…˜ ì •ì˜

**AstraGo**ëŠ” GPU ê¸°ë°˜ ì¸í”„ë¼ë¥¼ íš¨ìœ¨ì ì´ê³  ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•œ **AI ê°œë°œ ì¡°ì§(ML ì§€ì›) ì „ìš© í”Œë«í¼**ì…ë‹ˆë‹¤. í•œì •ëœ AI ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ê´€ë¦¬í•˜ê³  ëª¨ë‹ˆí„°ë§í•˜ë©°, ML ê°œë°œìë“¤ì—ê²ŒëŠ” í˜‘ì—…ê³¼ ê°œë°œì— ìœ ìš©í•œ íˆ´ê³¼ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ì£¼ìš” íŠ¹ì§•
- **ì˜¨í”„ë ˆë¯¸ìŠ¤ íŠ¹í™”**: í´ë¼ìš°ë“œ ì¢…ì†ì„± ì—†ëŠ” ì™„ì „í•œ ì˜¨í”„ë ˆë¯¸ìŠ¤ ì†”ë£¨ì…˜
- **ìŠ¤ì¼€ì¤„ë§ ìµœì í™”**: AI/ML ì›Œí¬ë¡œë“œì— íŠ¹í™”ëœ ìŠ¤ì¼€ì¤„ë§
- **GPU í™œìš© ê·¹ëŒ€í™”**: MIG, MPS ë“± GPU í™œìš©ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•œ ë¶„í•  ê¸°ëŠ¥ ì œê³µ
- **ëª¨ë“ˆëŸ¬ ì„¤ê³„**: í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì„ íƒì  í™œì„±í™” ê°€ëŠ¥í•˜ë„ë¡ ëª¨ë“ˆ ì„¤ê³„
- **ì—”í„°í”„ë¼ì´ì¦ˆ ì¸ì¦**: Keycloak ê¸°ë°˜ SSO ë° RBAC
- **ëŒ€ìš©ëŸ‰ ë°ì´í„°**: TUS í”„ë¡œí† ì½œ ê¸°ë°˜ ì•ˆì •ì  ëŒ€ìš©ëŸ‰ íŒŒì¼ ì „ì†¡
- **ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš©**: WebSocket ê¸°ë°˜ í„°ë¯¸ë„ ë° ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°

---

## ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì„±ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AstraGo Infrastructure Platform                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    ğŸŒ Presentation Layer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web UI (React)  â”‚  REST API (OpenAPI)  â”‚  CLI Tool  â”‚  WebSocket (Real-time)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   ğŸ”’ Security Layer                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Keycloak SSO  â”‚  JWT Auth  â”‚  RBAC  â”‚  Network Policies  â”‚  TLS 1.3  â”‚  Audit    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  âš™ï¸ Software Layer                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Core Server (8080)     â”‚  ğŸ“ˆ Monitor Server (8081)     â”‚  ğŸ”„ Batch Server (8082) â”‚
â”‚  â€¢ User Management         â”‚  â€¢ Metrics Collection         â”‚  â€¢ Resource Optimization â”‚
â”‚  â€¢ Workspace Management    â”‚  â€¢ Health Monitoring          â”‚  â€¢ Background Jobs      â”‚
â”‚  â€¢ Workload Orchestration  â”‚  â€¢ Performance Analytics      â”‚  â€¢ Scheduled Tasks      â”‚
â”‚  â€¢ Resource Management     â”‚  â€¢ Alert Management           â”‚  â€¢ Data Synchronization â”‚
â”‚  â€¢ Service Deployment      â”‚  â€¢ Log Analysis               â”‚  â€¢ Framework Management â”‚
â”‚  â€¢ Security & Governance   â”‚  â€¢ Prometheus Endpoint        â”‚  â€¢ TUS File Cleanup     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  ğŸ“¦ Domain Modules                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ module-user â”‚ module-k8s â”‚ module-k8s-db â”‚ module-monitor â”‚ module-mongo â”‚ module-alert â”‚
â”‚ module-common (Shared Utilities, DTOs, Exceptions, GitHub API Integration)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  ğŸ’¾ Data Layer                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MariaDB (Primary)  â”‚  MongoDB (Logs/Events)  â”‚  File Storage (Artifacts)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                ğŸ”§ Middleware Layer                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Kubernetes Cluster (1.25+)  â”‚  Keycloak (23.0.1)  â”‚  Prometheus  â”‚  Grafana      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  ğŸ–¥ï¸ Hardware Layer                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GPU Nodes (NVIDIA)  â”‚  CPU Nodes  â”‚  Storage Nodes  â”‚  Control Plane  â”‚  Edge Nodes â”‚
â”‚  â€¢ A100-40GB/80GB    â”‚  â€¢ Compute  â”‚  â€¢ Ceph/NFS     â”‚  â€¢ K8s Masters  â”‚  â€¢ Optional â”‚
â”‚  â€¢ A30               â”‚  â€¢ Memory   â”‚  â€¢ SSD/NVMe     â”‚  â€¢ etcd         â”‚  â€¢ IoT      â”‚
â”‚  â€¢ H100              â”‚  â€¢ Network  â”‚  â€¢ Backup       â”‚  â€¢ API Server   â”‚  â€¢ Sensors  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "ì‚¬ìš©ì ì ‘ê·¼ ê³„ì¸µ"
        UI[Web Interface]
        API[REST API]
        CLI[CLI Tools]
    end
    
    subgraph "ë¡œë“œ ë°¸ëŸ°ì„œ ê³„ì¸µ"
        LB[Kubernetes Service<br/>NodePort/LoadBalancer]
    end
    
    subgraph "ì¸ì¦ ë° ë³´ì•ˆ ê³„ì¸µ"
        KC[Keycloak<br/>:30001]
        PROXY[Astrago Proxy]
    end
    
    subgraph "ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ"
        CORE[Astrago Core<br/>:30080]
        BATCH[Astrago Batch]
        MONITOR[Astrago Monitor]
        FRONTEND[Astrago Frontend]
    end
    
    subgraph "ì¸í”„ë¼ ë° ìŠ¤í† ë¦¬ì§€ ê³„ì¸µ"
        CSI[CSI Driver NFS]
        GPU[GPU Operator]
        MPI[MPI Operator]
        HARBOR[Harbor Registry]
    end
    
    subgraph "ëª¨ë‹ˆí„°ë§ ê³„ì¸µ"
        PROM[Prometheus]
        GRAF[Grafana]
    end
    
    subgraph "GitOps ê³„ì¸µ"
        FLUX[Flux]
        GIT[Git Repository]
    end
    
    subgraph "ë°ì´í„° ê³„ì¸µ"
        DB[(MariaDB)]
        NFS[NFS Storage]
    end
    
    UI --> LB
    API --> LB
    CLI --> LB
    LB --> KC
    LB --> PROXY
    KC --> CORE
    PROXY --> CORE
    CORE --> BATCH
    CORE --> MONITOR
    CORE --> FRONTEND
    CORE --> DB
    BATCH --> GPU
    BATCH --> MPI
    MONITOR --> PROM
    PROM --> GRAF
    FLUX --> GIT
    CSI --> NFS
    HARBOR --> CORE
```

---

## í•˜ë“œì›¨ì–´ êµ¬ì„±

### ìµœì†Œ ì‹œìŠ¤í…œ ì‚¬ì–‘

| êµ¬ì„±ìš”ì†Œ | ìµœì†Œ ì‚¬ì–‘ | ê¶Œì¥ ì‚¬ì–‘ |
|---------|----------|----------|
| **CPU** | 4 cores | 8+ cores |
| **ë©”ëª¨ë¦¬** | 8GB RAM | 16+ GB RAM |
| **ìŠ¤í† ë¦¬ì§€** | 100GB | 500+ GB SSD |
| **ë„¤íŠ¸ì›Œí¬** | 1Gbps | 10+ Gbps |

#### 1. **GPU ë…¸ë“œ (AI/ML ì›Œí¬ë¡œë“œ ì „ìš©)**
```yaml
GPU Types:
  - NVIDIA A100-40GB: ê³ ì„±ëŠ¥ AI í•™ìŠµ
  - NVIDIA A100-80GB: ëŒ€ìš©ëŸ‰ ëª¨ë¸ í•™ìŠµ
  - NVIDIA A30: ì¶”ë¡  ë° ê°œë°œ í™˜ê²½
  - NVIDIA H100 ì´ìƒ: ìµœì‹  AI ëª¨ë¸ í•™ìŠµ

Specifications:
  CPU: 64-128 cores (AMD EPYC / Intel Xeon)
  Memory: 256GB-1TB DDR4/DDR5
  Storage: 2-4TB NVMe SSD
  Network: 100Gbps InfiniBand / 25Gbps Ethernet
  Power: 1000W+ PSU
```

#### 2. **CPU ë…¸ë“œ (ì¼ë°˜ ì»´í“¨íŒ…)**
```yaml
Specifications:
  CPU: 32-64 cores (AMD EPYC / Intel Xeon)
  Memory: 128-512GB DDR4/DDR5
  Storage: 1-2TB NVMe SSD
  Network: 25Gbps Ethernet
  Role: API ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤, ëª¨ë‹ˆí„°ë§
```

#### 3. **ìŠ¤í† ë¦¬ì§€ ë…¸ë“œ (ë°ì´í„° ì €ì¥)**
```yaml
Storage Types:
  - ë¶„ì‚° ìŠ¤í† ë¦¬ì§€(íŒŒì¼, ë¸”ë¡, ì˜¤ë¸Œì íŠ¸): Ceph, NFS, Backup Storage

Specifications:
  CPU: 16-32 cores
  Memory: 64-256GB
  Storage: 10-100TB (SSD + HDD)
  Network: 25Gbps Ethernet
```

---

## ë¯¸ë“¤ì›¨ì–´ êµ¬ì„±

### 1. **Kubernetes í´ëŸ¬ìŠ¤í„° (v1.25+)**

#### í´ëŸ¬ìŠ¤í„° êµ¬ì„±
```yaml
Cluster Architecture:
  - Multi-Zone Deployment
  - High Availability (HA)
  - Auto-scaling Support
  - Resource Quotas & Limits

Components:
  - kube-apiserver: API ì„œë²„
  - etcd: ë¶„ì‚° ë°ì´í„° ì €ì¥ì†Œ
  - kube-controller-manager: ì»¨íŠ¸ë¡¤ëŸ¬ ê´€ë¦¬
  - kube-scheduler: ìŠ¤ì¼€ì¤„ëŸ¬
  - kubelet: ë…¸ë“œ ì—ì´ì „íŠ¸
  - kube-proxy: ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œ
  - Container Runtime: CRI-O (ì¿ ë²„ë„¤í‹°ìŠ¤ìš© OCI(Open Container Initiative) ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„)
```

#### ë„¤íŠ¸ì›Œí‚¹
```yaml
Network Plugin: Calico / Flannel
Service Mesh: Istio (ì„ íƒì )
Load Balancer: MetalLB / Cloud Provider LB
Ingress Controller: NGINX Ingress Controller
```

### 2. **Keycloak (v23.0.1) - ì¸ì¦/ì¸ê°€**

#### êµ¬ì„± ìš”ì†Œ
```yaml
Components:
  - Keycloak Server: ì¸ì¦ ì„œë²„
  - PostgreSQL: ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤
  - Redis: ì„¸ì…˜ ìºì‹œ (ì„ íƒì )

Features:
  - Single Sign-On (SSO)
  - OAuth2 / OpenID Connect
  - LDAP / Active Directory ì—°ë™
  - Multi-factor Authentication (MFA)
  - Role-Based Access Control (RBAC)
```

### 3. **ë°ì´í„°ë² ì´ìŠ¤**

#### MariaDB (Primary Database)
```yaml
Configuration:
  - Master-Slave Replication
  - Connection Pooling (HikariCP)
  - Backup & Recovery
  - Performance Tuning

Data Types:
  - ì‚¬ìš©ì ì •ë³´
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©”íƒ€ë°ì´í„°
  - ë¦¬ì†ŒìŠ¤ ì¿¼í„° ì„¤ì •
  - ì›Œí¬ë¡œë“œ íˆìŠ¤í† ë¦¬
```

#### MongoDB (Document Database)
```yaml
Configuration:
  - Replica Set
  - Sharding (ì„ íƒì )
  - Authentication & Authorization
  - Backup & Recovery

Data Types:
  - ë¡œê·¸ ë°ì´í„°
  - ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼
  - ë¹„ì •í˜• ë°ì´í„°
  - ëŒ€ìš©ëŸ‰ ë©”íŠ¸ë¦­
```

---

## ì†Œí”„íŠ¸ì›¨ì–´(ì• í”Œë¦¬ì¼€ì´ì…˜) êµ¬ì„±

### ğŸ“Š ì• í”Œë¦¬ì¼€ì´ì…˜ ëª©ë¡

| ì• í”Œë¦¬ì¼€ì´ì…˜ | íƒ€ì… | ì—­í•  | ìš°ì„ ìˆœìœ„ | ì˜ì¡´ì„± |
|-------------|------|------|----------|--------|
| CSI Driver NFS | ì¸í”„ë¼ | ìŠ¤í† ë¦¬ì§€ í”„ë¡œë¹„ì €ë‹ | 1 | NFS ì„œë²„ |
| GPU Operator | ì¸í”„ë¼ | GPU ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ | 2 | NVIDIA ë“œë¼ì´ë²„ |
| Prometheus | ëª¨ë‹ˆí„°ë§ | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ | 3 | - |
| Loki Stack | ë¡œê¹… | ë¡œê·¸ ìˆ˜ì§‘/ë¶„ì„ | 4 | NFS ìŠ¤í† ë¦¬ì§€ |
| Keycloak | ì¸ì¦ | ì‚¬ìš©ì ì¸ì¦/ì¸ê°€ | 5 | ë°ì´í„°ë² ì´ìŠ¤ |
| MPI Operator | ì¸í”„ë¼ | ë¶„ì‚° ì»´í“¨íŒ… | 6 | - |
| Flux | GitOps | ì§€ì†ì  ë°°í¬ | 7 | Git ì €ì¥ì†Œ |
| Harbor | ë ˆì§€ìŠ¤íŠ¸ë¦¬ | ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ | 8 | - |
| AstraGo | ì• í”Œë¦¬ì¼€ì´ì…˜ | ë©”ì¸ í”Œë«í¼ | 9 | ëª¨ë“  ì¸í”„ë¼ |

### AstraGo ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°

#### ğŸ¯ AstraGo Core ì„œë²„
- **ì—­í• **: ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **ê¸°ëŠ¥**:
  - í”„ë¡œì íŠ¸ ê´€ë¦¬
  - ì‘ì—… ìŠ¤ì¼€ì¤„ë§
  - ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
- **í¬íŠ¸**: 30080
- **ë°ì´í„°ë² ì´ìŠ¤**: MariaDB

#### âš¡ AstraGo Batch ì„œë²„
- **ì—­í• **: ë°°ì¹˜ ì‘ì—… ì²˜ë¦¬
- **ê¸°ëŠ¥**:
  - ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
  - ë¶„ì‚° ì»´í“¨íŒ… ê´€ë¦¬
  - GPU ë¦¬ì†ŒìŠ¤ í™œìš©

#### ğŸ“Š AstraGo Monitor ì„œë²„
- **ì—­í• **: ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
- **ê¸°ëŠ¥**:
  - ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì¶”ì 
  - ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  - ì•Œë¦¼ ì²˜ë¦¬

#### Core Modules (ê³µí†µ ëª¨ë“ˆ)

- **module-common**: ê³µí†µ ê¸°ëŠ¥, DTO, ì˜ˆì™¸ ì²˜ë¦¬, GitHub API ì—°ë™
- **module-user**: ì‚¬ìš©ì ê´€ë¦¬ ë° Keycloak 23.0.1 ê¸°ë°˜ ì¸ì¦/ì¸ê°€
- **module-k8s**: Fabric8 6.9.2 ê¸°ë°˜ Kubernetes í´ëŸ¬ìŠ¤í„° ì—°ë™
- **module-k8s-db**: Kubernetes ê´€ë ¨ ë°ì´í„° ì˜ì†ì„± (MariaDB + QueryDSL)
- **module-monitor**: ëª¨ë‹ˆí„°ë§ ë°ì´í„° ìˆ˜ì§‘/ì²˜ë¦¬ (Fabric8 + WebFlux)
- **module-mongo**: MongoDB ì—°ë™ (ë¡œê·¸, ëŒ€ìš©ëŸ‰ ë°ì´í„°)
- **module-alert**: ì•Œë¦¼ ë° ê²½ê³  ì‹œìŠ¤í…œ

#### ğŸ¨ AstraGo Frontend
- **ì—­í• **: ì›¹ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- **ê¸°ëŠ¥**:
  - ëŒ€ì‹œë³´ë“œ ì œê³µ
  - ì‚¬ìš©ì ìƒí˜¸ì‘ìš©
  - ì‹¤ì‹œê°„ ìƒíƒœ í‘œì‹œ

### ğŸ’¾ ë°ì´í„° í”Œë¡œìš°

#### 1. **ì‚¬ìš©ì ìš”ì²­ í”Œë¡œìš°**
```
User â†’ Load Balancer â†’ Keycloak (Auth) â†’ Proxy â†’ Core â†’ Database/Storage
```

#### 2. **ë°°ì¹˜ ì‘ì—… í”Œë¡œìš°**
```
Core â†’ Batch â†’ Kubernetes Job â†’ GPU/MPI Operator â†’ Worker Nodes
```

#### 3. **ëª¨ë‹ˆí„°ë§ í”Œë¡œìš°**
```
All Services â†’ Prometheus â†’ Grafana â†’ User Dashboard
```


### ë°±ì•¤ë“œ / í”„ë¡ íŠ¸ì•¤ë“œ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì•¤ë“œ
```yaml
Java: 17 (LTS)
Spring Boot: 3.2.2
Spring Cloud: 2023.0.2
Spring Security: OAuth2 Resource Server (JWT)
Spring Data JPA: ë°ì´í„° ì•¡ì„¸ìŠ¤ + QueryDSL 5.0.0
Spring Data MongoDB: ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤
Spring WebFlux: ë¹„ë™ê¸° ì²˜ë¦¬ (WebClient)
Spring WebSocket: ì‹¤ì‹œê°„ í„°ë¯¸ë„ ì•¡ì„¸ìŠ¤
Gradle: 8.x (ë¹Œë“œ ë„êµ¬)
Lombok: 1.18.30 (ì½”ë“œ ìƒì„±)
```

### í”„ë¡ íŠ¸ ì•¤ë“œ
```yaml
í”„ë ˆì„ì›Œí¬ & ëŸ°íƒ€ì„
Next.js 14.2.28: React ê¸°ë°˜ í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬
React 18.2.0: UI ë¼ì´ë¸ŒëŸ¬ë¦¬
TypeScript 5: ì •ì  íƒ€ì… ê²€ì‚¬
Node.js: >=18.17.0

ìƒíƒœ ê´€ë¦¬
Jotai 2.5.1: ì›ì ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
TanStack Query 5.8.4: ì„œë²„ ìƒíƒœ ê´€ë¦¬ ë° ìºì‹±
React Hook Form 7.49.0: í¼ ìƒíƒœ ê´€ë¦¬
UI/UX ë¼ì´ë¸ŒëŸ¬ë¦¬
Ant Design 5.12.2: ë©”ì¸ UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
Material-UI 5.14.20: ë³´ì¡° UI ì»´í¬ë„ŒíŠ¸
Emotion: CSS-in-JS ìŠ¤íƒ€ì¼ë§
Tailwind CSS 3.3.0: ìœ í‹¸ë¦¬í‹° CSS í”„ë ˆì„ì›Œí¬
Framer Motion 10.18.0: ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

ì°¨íŠ¸ & ì‹œê°í™”
Ant Design Charts 2.0.3: ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
Recharts 2.12.7: React ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
ApexCharts 3.44.2: ê³ ê¸‰ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
React Gauge Component 1.2.0: ê²Œì´ì§€ ì°¨íŠ¸
```
---

## CI/CD íŒŒì´í”„ë¼ì¸

### íŒŒì´í”„ë¼ì¸ êµ¬ì„± ë°©ì‹

### Push-based ë°©ì‹
Push-based ë°©ì‹ì€ ë¨¼ì € ê°œë°œìê°€ ì½”ë“œ ë³€ê²½ì‚¬í•­ì„ Gitì— í‘¸ì‹œí•œ ë‹¤ìŒ, ë¹Œë“œ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•˜ë©´ ë³€ê²½ëœ ì½”ë“œë¥¼ ë¹Œë“œí•˜ê³  ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì—¬ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— í‘¸ì‹œí•©ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ, ê´€ë ¨ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì˜ ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ë³€ê²½í•˜ì—¬ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì´ ì €ì¥ëœ ë ˆí¬ì§€í† ë¦¬ì— ë³€ê²½ì‚¬í•­ì„ í‘¸ì‹œí•©ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ Git push webhook ë“±ì„ ì´ìš©í•˜ì—¬ í‘¸ì‹œê°€ ë°œìƒí–ˆì„ ë•Œ ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰ì‹œí‚¨ ë‹¤ìŒ ë°°í¬ íŒŒì´í”„ë¼ì¸ì—ì„œ ë³€ê²½ëœ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ë°˜ì˜í•©ë‹ˆë‹¤. ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì´ ë³€ê²½ë˜ì–´ Gitì— í‘¸ì‹œí•˜ìë§ˆì ë°°í¬ íŒŒì´í”„ë¼ì¸ì´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— Push-based ì „ëµì´ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤.

### Pull-based ë°©ì‹
Pull-basedëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ìˆëŠ” GitOps agentê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ ì €ì¥ëœ Gitì— ë³€ê²½ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí–ˆë‹¤ë©´ Gitì— ì €ì¥ëœ ìƒíƒœì™€ í˜„ì¬ í´ëŸ¬ìŠ¤í„°ì˜ ìƒíƒœë¥¼ ë¹„êµí•œ í›„ ì°¨ì´ê°€ ìˆë‹¤ë©´ Gitì— ì €ì¥ëœ ìƒíƒœë¡œ í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. GitOps agentê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë ˆí¬ì§€í† ë¦¬ë¥¼ pullí•˜ê¸° ë•Œë¬¸ì— Pull-based ì „ëµì´ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤. Pull-basedë¥¼ ì§€ì›í•˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ë ¤ë©´ GitOps agentë¡œëŠ” ArgoCDë‚˜ Flux ë“±ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

### AstraGo CI/CD êµ¬ì„± ë°©ì‹

### ì „ì²´ íë¦„
1. **Git Action ë“±ë¡** (CIë¥¼ ìœ„í•œ YAML íŒŒì¼ ë“±ë¡)
2. **astrago-deployment master branchì˜ push | pull request**
3. **ArgoCD pull-based GitOps ìˆ˜í–‰**

### ìƒì„¸ ê³¼ì •

#### 1) Git Action ë“±ë¡
- `.github/workflows/deploy-{í™˜ê²½ëª…}.yaml`
  - ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œì˜ íŠ¹ì • ë¸Œëœì¹˜ì˜ ì†ŒìŠ¤ì½”ë“œê°€ PRì´ ë‹«íŒ ê²½ìš°ì—ë§Œ ë™ì‘
  - `(astrago-deployment)environments/{í™˜ê²½ëª…}/values.yaml`ì˜ ê° core, batch, monitor, frontendì˜ tag ë³€ê²½ (push)
  - `DOCKER_REPOSITORY | HARBOR_REPOSITORY`ì— ë³€ê²½ëœ ì´ë¯¸ì§€ íƒœê·¸ë¡œ push

#### 2) astrago-deployment master branchì˜ push ë°œìƒ
- `astrago-deployment/.github/workflows/{í™˜ê²½ëª…}-deploy.yml` Git Action ìˆ˜í–‰
- `monochart/{í™˜ê²½ë³„}/astrago/astrago.yaml`
- `monochart/{í™˜ê²½ë³„}/prometheus/prometheus.yaml`
- `monochart/{í™˜ê²½ë³„}/nfs-provisioner/nfs-provisioner.yaml`
- `monochart/{í™˜ê²½ë³„}/gpu-operator/gpu-operator.yaml`
- `monochart/{í™˜ê²½ë³„}/mpi-operator/mpi-operator.yaml`

#### 3) ArgoCD GitOps ìˆ˜í–‰
- `astrago-deployment`ì˜ ê° YAMLë³„ App ë“±ë¡
- App ë“±ë¡ ì‹œ `monochart/../*.yaml` íŒŒì¼ì„ ì§€ì†ì ìœ¼ë¡œ pullí•´ì„œ ë³€ê²½ì ì´ ìˆì„ ê²½ìš° ë“±ë¡ëœ ì„œë²„ìƒ `*.yaml` íŒŒì¼ ì‹¤í–‰
- ì™„ë£Œ

---

## AstraGo ì˜¨/ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ ë°©ë²•

### 1. ì˜¤í”„ë¼ì¸(airgap) ì„¤ì¹˜ ì „ì²´ í”Œë¡œìš°

1. **ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì¤€ë¹„**
   - ì¸í„°ë„·ì´ ì—°ê²°ëœ í™˜ê²½ì—ì„œ AstraGo ë° Kubernetes ì„¤ì¹˜ì— í•„ìš”í•œ ëª¨ë“  ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€, OS íŒ¨í‚¤ì§€, PyPI íŒ¨í‚¤ì§€, Helm ì°¨íŠ¸ ë“±ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ airgap íŒ¨í‚¤ì§€ë¡œ ìƒì„±
2. **ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì´ê´€**
   - ìƒì„±ëœ airgap íŒ¨í‚¤ì§€ë¥¼ USB, ì™¸ì¥ HDD ë“±ìœ¼ë¡œ ì‹¤ì œ ì„¤ì¹˜ ëŒ€ìƒ ì„œë²„(ë‚´ë¶€ë§)ë¡œ ë³µì‚¬
3. **ë¡œì»¬ ë ˆì§€ìŠ¤íŠ¸ë¦¬/ì €ì¥ì†Œ êµ¬ì„±**
   - ì˜¤í”„ë¼ì¸ ì„œë²„ì—ì„œ Nginx(HTTP), Private Registry, PyPI Mirror, OS íŒ¨í‚¤ì§€ ì €ì¥ì†Œë¥¼ ë¡œì»¬ì— êµ¬ì„±
4. **ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¡œë“œ ë° í‘¸ì‹œ**
   - airgap íŒ¨í‚¤ì§€ ë‚´ ì´ë¯¸ì§€ë“¤ì„ ë¡œì»¬ private registryì— ë¡œë“œ ë° í‘¸ì‹œ
5. **ë¡œì»¬ ì €ì¥ì†Œ ê¸°ë°˜ í™˜ê²½ì„¤ì •**
   - OS íŒ¨í‚¤ì§€, PyPI, Helm ë“± ëª¨ë“  ì„¤ì¹˜ ê²½ë¡œë¥¼ ë¡œì»¬ ì €ì¥ì†Œë¡œ ë³€ê²½
6. **Kubernetes ë° AstraGo ì„¤ì¹˜**
   - Kubespray(offline ëª¨ë“œ)ë¡œ Kubernetes í´ëŸ¬ìŠ¤í„° ì„¤ì¹˜
   - Helmfile/ìŠ¤í¬ë¦½íŠ¸ë¡œ AstraGo ë° ë¶€ê°€ ì„œë¹„ìŠ¤ ì„¤ì¹˜

---

### 2. ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…

#### 1) ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ ë° ì¤€ë¹„ (ì˜¨ë¼ì¸ í™˜ê²½)

```bash
cd astrago-deployment/airgap/kubespray-offline
./download-all.sh
```
- ì„¤ì¹˜í•  OSì™€ ë™ì¼í•œ í™˜ê²½ì—ì„œ ì‹¤í–‰í•´ì•¼ í•¨
- ëª¨ë“  ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€, íŒ¨í‚¤ì§€, PyPI, Helm ì°¨íŠ¸ê°€ outputs/ì— ì €ì¥ë¨

#### 2) ì˜¤í”„ë¼ì¸ í™˜ê²½ ì¤€ë¹„ ë° ë ˆì§€ìŠ¤íŠ¸ë¦¬/ì €ì¥ì†Œ êµ¬ì„±

```bash
./setup-all.sh
```
- outputs/ ë””ë ‰í„°ë¦¬ì—ì„œ ì‹¤í–‰ (nginx, registry, containerd ë“± ìë™ êµ¬ì„±)
- ì‹¤í–‰ í›„ `nerdctl ps`ë¡œ nginx, registry ì»¨í…Œì´ë„ˆê°€ ì •ìƒ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

#### 3) Kubernetes ì¸ë²¤í† ë¦¬ íŒŒì¼ ìˆ˜ì •

```bash
vi astrago-deployment/kubespray/inventory/offline/astrago.yaml
```
- ë§ˆìŠ¤í„°/ì›Œì»¤ ë…¸ë“œì˜ IP, ì‚¬ìš©ì ê³„ì • ë“± í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •
- ì˜ˆì‹œ:
  ```
  [all]
  master-1 ansible_host=192.168.1.100 ansible_user=astrago
  worker-1 ansible_host=192.168.1.101 ansible_user=astrago
  worker-2 ansible_host=192.168.1.102 ansible_user=astrago
  ...
  ```

#### 4) Kubernetes í´ëŸ¬ìŠ¤í„° ë°°í¬

```bash
cd astrago-deployment/airgap
./deploy_kubernetes.sh
```
- ë°°í¬ ì¤‘ íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥ í•„ìš” (ëª¨ë“  ë…¸ë“œ ë™ì¼ ê³„ì •/ë¹„ë°€ë²ˆí˜¸ ê¶Œì¥)
- ì—ëŸ¬ ë°œìƒ ì‹œ ë¡œê·¸ ë° group_vars/all/all.yamlì˜ cert ì˜µì…˜ ë“± í™•ì¸

#### 5) NFS ì„œë²„ ì„¤ì •

```bash
# NFS ìœ í‹¸ë¦¬í‹° ì„¤ì¹˜
sudo yum install -y nfs-utils    # CentOS/RHEL
sudo apt install -y nfs-utils    # Ubuntu

# NFS ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl enable nfs-server
sudo systemctl start nfs-server

# ê³µìœ  ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /nfs-data/astrago
sudo chown -R nobody:nobody /nfs-data
sudo chmod -R 755 /nfs-data

# /etc/exports íŒŒì¼ì— ì¶”ê°€
sudo vi /etc/exports
/nfs-data 10.1.61.0/24(no_root_squash,rw,no_subtree_check,insecure)

# ì ìš©
sudo exportfs -a
sudo systemctl reload nfs-server
```

#### 6) Astrago í™˜ê²½ ì„¤ì • (ì˜¤í”„ë¼ì¸ í™˜ê²½)

```bash
cd astrago-deployment/airgap
./offline_deploy_astrago.sh env
```
- í”„ë¡¬í”„íŠ¸ì— ë”°ë¼ ì•„ë˜ ì •ë³´ ì…ë ¥:
  - Enter the connection URL (e.g. 10.61.3.12): <í”„ë¡ íŠ¸ì—”ë“œ ì ‘ê·¼ ì„œë²„ ì£¼ì†Œ>
  - Enter the NFS server IP address: <NFS ì„œë²„ ì£¼ì†Œ>
  - Enter the base path of NFS: /nfs-data/astrago
  - Enter the offline registry (e.g. 10.61.3.8:35000): <ë¡œì»¬ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì£¼ì†Œ>
  - Enter the HTTP server (e.g. http://10.61.3.8): <ë¡œì»¬ HTTP ì„œë²„>

- ì„¤ì • íŒŒì¼ í™•ì¸:
```bash
cat astrago-deployment/environments/astrago/values.yaml
```

#### 7) Astrago ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬

```bash
./offline_deploy_astrago.sh sync
```
- Astrago ë° ë¶€ê°€ ì„œë¹„ìŠ¤ê°€ values.yaml ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ë¨

#### 8) ì„¤ì¹˜ í›„ ê²€ì¦

```bash
kubectl get pod -A
kubectl describe pod -n <namespace> <podëª…>
kubectl logs -n <namespace> <podëª…>
```
- Astrago, Keycloak, NFS ë“± ì£¼ìš” ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ Running ìƒíƒœì¸ì§€ í™•ì¸
- ì„œë¹„ìŠ¤ ì ‘ì† í…ŒìŠ¤íŠ¸:
  ```bash
  curl -I http://<EXTERNAL-IP>:30080   # Astrago
  curl -I http://<EXTERNAL-IP>:30001   # Keycloak
  ```

---

- ê° ë‹¨ê³„ë³„ ìƒì„¸ ì´ìŠˆ ë° ì¶”ê°€ íŒì€ `docs/offline-deployment.md`ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

### 3. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (2025ë…„ 7ì›” 14ì¼ ì´í›„ suhyun-kim415 ì»¤ë°‹ ê¸°ì¤€)

#### ì£¼ìš” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í¬ì¸íŠ¸

- **MPI Operator ì´ë¯¸ì§€ Pull ì˜¤ë¥˜**
  - ì˜¤í”„ë¼ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— 0.5.0 ë²„ì „ì´ ì—†ê³  0.4.0ë§Œ ì¡´ì¬í•  ê²½ìš°, values.yamlì—ì„œ 0.4.0ìœ¼ë¡œ ë²„ì „ì„ ë§ì¶°ì•¼ í•¨
  - ì—ëŸ¬ ë©”ì‹œì§€: "failed to pull image"
  - í•´ê²°: `applications/mpi-operator/values.yaml.gotmpl`ì—ì„œ `mpioperator/mpi-operator:0.4.0`ìœ¼ë¡œ ëª…ì‹œ

- **Loki/Promtail ì´ë¯¸ì§€ Pull ì˜¤ë¥˜**
  - ì˜¤í”„ë¼ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— 2.9.6 ë²„ì „ì´ ì—†ê³  2.9.2ë§Œ ì¡´ì¬í•  ê²½ìš°, values.yamlì—ì„œ 2.9.2ë¡œ ë²„ì „ì„ ë§ì¶°ì•¼ í•¨
  - ì—ëŸ¬ ë©”ì‹œì§€: "failed to pull image"
  - í•´ê²°: `applications/loki-stack/values.yaml.gotmpl`ì—ì„œ `grafana/loki:2.9.2`, `grafana/promtail:2.9.2`ë¡œ ëª…ì‹œ

- **nginx ë²„ì „ í˜¸í™˜ì„±**
  - AstraGo ì¼ë¶€ ì„œë¹„ìŠ¤ì—ì„œ nginx 1.27.0-alpine3.19 ë²„ì „ì´ í•„ìš”í•  ìˆ˜ ìˆìŒ
  - í•´ê²°: `applications/astrago/astrago/values.yaml` ë“±ì—ì„œ nginx ë²„ì „ì´ ì˜¬ë°”ë¥´ê²Œ ì§€ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

- **ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œ ì´ë¯¸ì§€ Pull ì‹¤íŒ¨**
  - values.yaml, offline.yml ë“±ì—ì„œ registry ì£¼ì†Œì™€ ì´ë¯¸ì§€ íƒœê·¸ê°€ ì‹¤ì œ ì˜¤í”„ë¼ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ë°˜ë“œì‹œ í™•ì¸
  - ì˜¤í”„ë¼ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—†ëŠ” ë²„ì „ì€ ë°°í¬ ì‹œë„ ì‹œ pull error ë°œìƒ

- **ê¸°íƒ€**
  - ì˜¤í”„ë¼ì¸ í™˜ê²½ì— ë§ëŠ” ë²„ì „ë§Œ íŒ¨í‚¤ì§•/ë“±ë¡ë˜ì–´ì•¼ í•˜ë©°, ì‹ ê·œ ë²„ì „ ì¶”ê°€ ì‹œ ë°˜ë“œì‹œ ì˜¤í”„ë¼ì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— push í•„ìš”

---

> **ì°¸ê³ :**  
> ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ ê´€ë ¨ ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì€ `astrago-deployment/airgap/` í•˜ìœ„ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.  
> ì‹¤ì œ ì„¤ì¹˜ í™˜ê²½ì— ë§ê²Œ config.sh, values.yaml, offline.yml ë“±ì„ ë°˜ë“œì‹œ ìˆ˜ì • í›„ ì§„í–‰í•˜ì„¸ìš”.

---

