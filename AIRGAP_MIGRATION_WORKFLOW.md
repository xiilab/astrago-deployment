# Airgap Kubespray-Offline ë¶„ë¦¬ í”„ë¡œì íŠ¸ ì›Œí¬í”Œë¡œìš°

## ðŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
- ê¸°ì¡´ airgap ë””ë ‰í† ë¦¬(303ê°œ íŒŒì¼)ë¥¼ kubespray-offline submodule + Astrago ëž˜í¼ êµ¬ì¡°ë¡œ ë¶„ë¦¬
- 100% í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë‹¨ì¼ ë””ë ‰í† ë¦¬(`astrago-airgap/`)ë¡œ í†µí•©
- Linear ì´ìŠˆ: BE-550(ë©”ì¸), BE-551(Phase 1), BE-552(Phase 2), BE-553(Phase 3)

### í˜„ìž¬ ìƒí™© ë¶„ì„
```
ê¸°ì¡´ êµ¬ì¡°:
airgap/
â”œâ”€â”€ kubespray-offline/     (109ê°œ íŒŒì¼ - upstream ì†ŒìŠ¤)
â”œâ”€â”€ inventory/             (Astrago ì»¤ìŠ¤í„°ë§ˆì´ì§•)
â”œâ”€â”€ *.sh ìŠ¤í¬ë¦½íŠ¸ë“¤        (Astrago ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸)
â””â”€â”€ ê¸°íƒ€ ì»¤ìŠ¤í„°ë§ˆì´ì§• íŒŒì¼

ëª©í‘œ êµ¬ì¡°:
astrago-airgap/
â”œâ”€â”€ kubespray-offline/     (submodule)
â”œâ”€â”€ astrago-wrapper/       (ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸)
â”œâ”€â”€ inventory/             (Astrago ì„¤ì •)
â””â”€â”€ README.md              (í†µí•© ì‚¬ìš©ë²•)
```

---

## ðŸŽ¯ Phase 1: ì¤€ë¹„ ë° ë¶„ì„ ë‹¨ê³„ (3ì¼)

### Day 1: í˜„í™© ë¶„ì„ ë° ì„¤ê³„ ê²€ì¦

#### ðŸ” 1.1 ì¢…ì†ì„± ë¶„ì„ (2ì‹œê°„)
**ëª©ì **: ê¸°ì¡´ íŒŒì¼ë“¤ ê°„ì˜ ì˜ì¡´ì„±ê³¼ ì°¸ì¡° ê´€ê³„ íŒŒì•…

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ìŠ¤í¬ë¦½íŠ¸ ê°„ í˜¸ì¶œ ê´€ê³„ ë¶„ì„
grep -r "source\|\./" airgap/*.sh
find airgap -name "*.sh" -exec grep -l "kubespray-offline" {} \;

# 2. ì„¤ì • íŒŒì¼ ì°¸ì¡° ê²½ë¡œ ë¶„ì„  
grep -r "airgap/" . --exclude-dir=".git"
grep -r "../" airgap/ --include="*.sh" --include="*.yml"

# 3. í•˜ë“œì½”ë”©ëœ ê²½ë¡œ íƒì§€
grep -r "/airgap/" . --exclude-dir=".git"
grep -r "kubespray-offline" airgap/*.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  ì™¸ë¶€ ì°¸ì¡° ê²½ë¡œ ë¬¸ì„œí™” ì™„ë£Œ
- [ ] kubespray-offline ë‚´ë¶€/ì™¸ë¶€ ì˜ì¡´ì„± êµ¬ë¶„ ì™„ë£Œ
- [ ] ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ë³„ ì˜í–¥ë„ í‰ê°€ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**: 
- ì¢…ì†ì„± ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„± (íŒŒì¼ë³„ x ì˜ì¡´ê´€ê³„ë³„)
- ë§ˆì´ê·¸ë ˆì´ì…˜ ìœ„í—˜ë„ ì ìˆ˜ ì‚°ì • (High/Medium/Low)

#### ðŸ—ï¸ 1.2 Submodule ì „ëžµ ìˆ˜ë¦½ (1ì‹œê°„)
**ëª©ì **: kubespray-offlineì˜ submodule ì ìš© ë°©ë²• í™•ì •

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. í˜„ìž¬ kubespray-offline ë²„ì „ í™•ì¸
cd airgap/kubespray-offline
git log --oneline -5 2>/dev/null || echo "Not a git repository"

# 2. ì—…ìŠ¤íŠ¸ë¦¼ ì €ìž¥ì†Œ í™•ì¸ (GitHub/GitLab í™•ì¸ í•„ìš”)
find . -name ".git*" | head -5
grep -r "kubespray-offline" ../.. --include="*.md" | head -3
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ì—…ìŠ¤íŠ¸ë¦¼ ì €ìž¥ì†Œ URL í™•ì •
- [ ] í˜„ìž¬ ì‚¬ìš© ì¤‘ì¸ ë¸Œëžœì¹˜/íƒœê·¸ ì‹ë³„
- [ ] Submodule ì¶”ê°€ ë°©ë²• ë° ìœ„ì¹˜ ê²°ì •

**ì„±ê³µ ê¸°ì¤€**:
- Submodule ì„¤ì • ëª…ì„¸ì„œ ìž‘ì„± ì™„ë£Œ
- ë²„ì „ ê³ ì • ì „ëžµ ìˆ˜ë¦½ ì™„ë£Œ

#### ðŸ“‹ 1.3 íŒŒì¼ ë¶„ë¥˜ ë° ë§¤í•‘ (2ì‹œê°„)
**ëª©ì **: ê° íŒŒì¼ì„ ëª©í‘œ ë””ë ‰í† ë¦¬ì— ë§¤í•‘

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. íŒŒì¼ ë¶„ë¥˜ ìžë™í™” ìŠ¤í¬ë¦½íŠ¸ ìž‘ì„±
cat > analyze_airgap_structure.sh << 'EOF'
#!/bin/bash
echo "=== Astrago Airgap íŒŒì¼ ë¶„ë¥˜ ë¶„ì„ ==="
echo "í˜„ìž¬ ì‹œê°„: $(date)"
echo

echo "ðŸ“ ë””ë ‰í† ë¦¬ë³„ íŒŒì¼ ìˆ˜:"
find airgap -type d | while read dir; do
    count=$(find "$dir" -maxdepth 1 -type f | wc -l)
    echo "  $dir: ${count}ê°œ íŒŒì¼"
done

echo -e "\nðŸ”§ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ë“¤:"
find airgap -name "*.sh" -type f | sort

echo -e "\nðŸ“‹ ì„¤ì • íŒŒì¼ë“¤:"  
find airgap -name "*.yml" -o -name "*.yaml" -o -name "*.json" | head -10

echo -e "\nðŸ“¦ kubespray-offline ë‚´ë¶€:"
ls -la airgap/kubespray-offline/ | head -10
EOF

chmod +x analyze_airgap_structure.sh
./analyze_airgap_structure.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ê° íŒŒì¼ì˜ ëª©í‘œ ìœ„ì¹˜ ë§¤í•‘ í…Œì´ë¸” ì™„ì„±
- [ ] Astrago ì „ìš© íŒŒì¼ vs kubespray-offline íŒŒì¼ êµ¬ë¶„ ì™„ë£Œ
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ ìš°ì„ ìˆœìœ„ ê²°ì •

**ì„±ê³µ ê¸°ì¤€**:
- íŒŒì¼ ë¶„ë¥˜ ë§¤íŠ¸ë¦­ìŠ¤ (303ê°œ íŒŒì¼ ì „ì²´)
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì´ˆì•ˆ ì™„ì„±

### Day 2: ë°±ì—… ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•

#### ðŸ’¾ 2.1 ë°±ì—… ì „ëžµ ì‹¤í–‰ (1ì‹œê°„)
**ëª©ì **: ì•ˆì „í•œ ë¡¤ë°±ì„ ìœ„í•œ ì™„ì „í•œ ë°±ì—…

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. í˜„ìž¬ ìƒíƒœ ë°±ì—…
mkdir -p ../astrago-deployment-backup-$(date +%Y%m%d)
cp -r . ../astrago-deployment-backup-$(date +%Y%m%d)/

# 2. Git ìƒíƒœ ë°±ì—…
git stash push -m "Pre-migration stash $(date)"
git branch backup/pre-airgap-migration-$(date +%Y%m%d)

# 3. í˜„ìž¬ ë¸Œëžœì¹˜ ìƒíƒœ ë¬¸ì„œí™”
git status > migration_pre_state.txt
git log --oneline -10 >> migration_pre_state.txt
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] íŒŒì¼ì‹œìŠ¤í…œ ë°±ì—… ì™„ë£Œ ë° ê²€ì¦
- [ ] Git ë°±ì—… ë¸Œëžœì¹˜ ìƒì„± ì™„ë£Œ
- [ ] ë°±ì—… ë³µì› ì ˆì°¨ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ë°±ì—…ì—ì„œ ì™„ì „ ë³µì› ê°€ëŠ¥ í™•ì¸
- ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤ë³„ ë³µì› ì‹œê°„ ì¸¡ì •

#### ðŸ§ª 2.2 í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶• (2ì‹œê°„)
**ëª©ì **: ì•ˆì „í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê²©ë¦¬ëœ í™˜ê²½ ì¤€ë¹„

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. í…ŒìŠ¤íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p ../airgap-migration-test
cd ../airgap-migration-test

# 2. í˜„ìž¬ airgap ë³µì‚¬
cp -r ../astrago-deployment/airgap ./original-airgap

# 3. í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìž‘ì„±
cat > test_migration_step.sh << 'EOF'
#!/bin/bash
set -e

STEP="$1"
echo "ðŸ§ª í…ŒìŠ¤íŠ¸ ë‹¨ê³„: $STEP"

case "$STEP" in
    "current")
        echo "í˜„ìž¬ êµ¬ì¡° í…ŒìŠ¤íŠ¸..."
        cd original-airgap
        ls -la
        ;;
    "migrated") 
        echo "ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ êµ¬ì¡° í…ŒìŠ¤íŠ¸..."
        # ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦ ë¡œì§
        ;;
    *)
        echo "ì‚¬ìš©ë²•: $0 {current|migrated}"
        exit 1
        ;;
esac
EOF

chmod +x test_migration_step.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶• ì™„ë£Œ
- [ ] ê¸°ì¡´ ê¸°ëŠ¥ ì •ìƒ ë™ìž‘ í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ ìžë™í™” ìŠ¤í¬ë¦½íŠ¸ ì¤€ë¹„

**ì„±ê³µ ê¸°ì¤€**:
- í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ê¸°ì¡´ airgap ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ì‹¤í–‰
- íšŒê·€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 3ê°œ ì´ìƒ ì¤€ë¹„

#### ðŸ“š 2.3 ë¬¸ì„œí™” ì¤€ë¹„ (1ì‹œê°„)
**ëª©ì **: ë§ˆì´ê·¸ë ˆì´ì…˜ ê³¼ì •ê³¼ ê²°ê³¼ ë¬¸ì„œí™” ì¤€ë¹„

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ë¬¸ì„œ í…œí”Œë¦¿ ìƒì„±
mkdir -p migration-docs
cd migration-docs

# 2. ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿
cat > migration-checklist.md << 'EOF'
# Airgap ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

## Phase 1 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì¢…ì†ì„± ë¶„ì„ ì™„ë£Œ
- [ ] Submodule ì „ëžµ ìˆ˜ë¦½
- [ ] íŒŒì¼ ë¶„ë¥˜ ë§¤í•‘ ì™„ë£Œ
- [ ] ë°±ì—… ì „ëžµ ì‹¤í–‰
- [ ] í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- [ ] ë¬¸ì„œí™” ì¤€ë¹„

## Phase 2 ì²´í¬ë¦¬ìŠ¤íŠ¸  
(ì¶”í›„ ìž‘ì„±)

## Phase 3 ì²´í¬ë¦¬ìŠ¤íŠ¸
(ì¶”í›„ ìž‘ì„±)
EOF

# 3. ì´ìŠˆ íŠ¸ëž˜í‚¹ í…œí”Œë¦¿
cat > issues-log.md << 'EOF'
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ìŠˆ ë¡œê·¸

| ì‹œê°„ | Phase | ì´ìŠˆ | í•´ê²°ë°©ë²• | ìƒíƒœ |
|------|-------|------|----------|------|
|      |       |      |          |      |
EOF
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ë¬¸ì„œ êµ¬ì¡° ë° í…œí”Œë¦¿ ì¤€ë¹„ ì™„ë£Œ
- [ ] ì§„í–‰ ìƒí™© ì¶”ì  ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] ì´ìŠˆ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì ˆì°¨ ì •ì˜

**ì„±ê³µ ê¸°ì¤€**:
- ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ì¶”ì  ê°€ëŠ¥
- ì´ìŠˆ ë°œìƒ ì‹œ ì¦‰ì‹œ ë¬¸ì„œí™” ê°€ëŠ¥

### Day 3: Phase 1 ê²€ì¦ ë° Phase 2 ì¤€ë¹„

#### âœ… 3.1 Phase 1 ì¢…í•© ê²€ì¦ (2ì‹œê°„)
**ëª©ì **: Phase 1 ì™„ë£Œë„ ê²€ì¦ ë° Phase 2 ì§„ìž… ê°€ëŠ¥ì„± íŒë‹¨

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ë¶„ì„ ê²°ê³¼ ì¢…í•© ê²€í† 
echo "=== Phase 1 ì™„ë£Œ ê²€ì¦ ==="
echo "1. ì¢…ì†ì„± ë¶„ì„ ì™„ë£Œ ì—¬ë¶€:"
[ -f dependency-matrix.md ] && echo "âœ… ì™„ë£Œ" || echo "âŒ ë¯¸ì™„ë£Œ"

echo "2. íŒŒì¼ ë¶„ë¥˜ ì™„ë£Œ ì—¬ë¶€:" 
[ -f file-classification.md ] && echo "âœ… ì™„ë£Œ" || echo "âŒ ë¯¸ì™„ë£Œ"

echo "3. ë°±ì—… ì™„ë£Œ ì—¬ë¶€:"
[ -d ../astrago-deployment-backup-* ] && echo "âœ… ì™„ë£Œ" || echo "âŒ ë¯¸ì™„ë£Œ"

# 2. ë¦¬ìŠ¤í¬ í‰ê°€
echo "4. ì‹ë³„ëœ High Risk í•­ëª© ìˆ˜:"
grep -c "High" risk-assessment.md 2>/dev/null || echo "0"
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  Phase 1 ìž‘ì—… ì™„ë£Œ í™•ì¸
- [ ] High Risk í•­ëª© 3ê°œ ì´í•˜ í™•ì¸
- [ ] íŒ€ ë¦¬ë·° ë° ìŠ¹ì¸ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- Phase 1 ì™„ë£Œìœ¨ 95% ì´ìƒ
- Phase 2 ì§„ìž… ê°€ëŠ¥ ìƒíƒœ í™•ì¸

#### ðŸš€ 3.2 Phase 2 ì‹¤í–‰ ê³„íš ìµœì¢…í™” (2ì‹œê°„)
**ëª©ì **: Phase 2 ìƒì„¸ ì‹¤í–‰ ê³„íš í™•ì •

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. Phase 2 ì‹¤í–‰ ìˆœì„œ ìµœì¢… í™•ì¸
cat > phase2-execution-plan.md << 'EOF'
# Phase 2 ì‹¤í–‰ ê³„íš

## ëª©í‘œ
- astrago-airgap ë””ë ‰í† ë¦¬ ìƒì„±
- kubespray-offline submodule ì ìš©
- ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜

## ì‹¤í–‰ ìˆœì„œ (í™•ì •)
1. ìƒˆ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
2. Submodule ì¶”ê°€
3. ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì´ë™ ë° ìˆ˜ì •
4. ì„¤ì • íŒŒì¼ ì´ë™
5. ê²½ë¡œ ìˆ˜ì • ë° í…ŒìŠ¤íŠ¸

## ìœ„í—˜ ìš”ì†Œ
- ê²½ë¡œ ë³€ê²½ìœ¼ë¡œ ì¸í•œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜
- Submodule ë™ê¸°í™” ì´ìŠˆ  
- ê¶Œí•œ ë° ì‹¤í–‰ ì†ì„± ìœ ì‹¤
EOF
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] Phase 2 ìƒì„¸ ê³„íš ìŠ¹ì¸ ì™„ë£Œ
- [ ] ìœ„í—˜ ìš”ì†Œ ëŒ€ì‘ ë°©ì•ˆ ì¤€ë¹„ ì™„ë£Œ
- [ ] íŒ€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- Phase 2 Go/No-Go ê²°ì • ì™„ë£Œ
- ì‹¤í–‰ ì¤€ë¹„ë„ 100% ë‹¬ì„±

---

## ðŸ”§ Phase 2: êµ¬ì¡° ìƒì„± ë° Submodule ì ìš© (3ì¼)

### Day 4: ìƒˆë¡œìš´ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±

#### ðŸ—ï¸ 4.1 astrago-airgap ë””ë ‰í† ë¦¬ ìƒì„± (1ì‹œê°„)
**ëª©ì **: ìƒˆë¡œìš´ í†µí•© ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ìƒˆ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p astrago-airgap
cd astrago-airgap

# 2. ê¸°ë³¸ êµ¬ì¡° ìƒì„±
mkdir -p {astrago-wrapper,inventory,docs}

# 3. êµ¬ì¡° ê²€ì¦
tree -L 2 .
echo "âœ… ê¸°ë³¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ì™„ë£Œ"
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] astrago-airgap ë””ë ‰í† ë¦¬ ìƒì„± ì™„ë£Œ
- [ ] í•˜ìœ„ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ì™„ë£Œ
- [ ] ê¶Œí•œ ì„¤ì • ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ìƒˆ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ì™„ë£Œ
- ê¸°ì¡´ ë””ë ‰í† ë¦¬ì™€ ë…ë¦½ì„± í™•ë³´

#### ðŸ”— 4.2 kubespray-offline Submodule ì¶”ê°€ (2ì‹œê°„)
**ëª©ì **: kubespray-offlineì„ submoduleë¡œ ì¶”ê°€

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ì—…ìŠ¤íŠ¸ë¦¼ ì €ìž¥ì†Œ í™•ì¸ (ì‚¬ì „ ì¡°ì‚¬ ê²°ê³¼ ë°˜ì˜)
# ì‹¤ì œ kubespray-offline ì €ìž¥ì†Œ URL í™•ì¸ í•„ìš”
echo "ì—…ìŠ¤íŠ¸ë¦¼ ì €ìž¥ì†Œ: https://github.com/kubernetes-sigs/kubespray-offline.git"

# 2. Submodule ì¶”ê°€
git submodule add https://github.com/kubernetes-sigs/kubespray-offline.git kubespray-offline

# 3. í˜„ìž¬ ì‚¬ìš© ì¤‘ì¸ ë²„ì „ìœ¼ë¡œ ê³ ì •
cd kubespray-offline
# ê¸°ì¡´ airgap/kubespray-offlineì—ì„œ ì‚¬ìš© ì¤‘ì¸ commit í™•ì¸ í›„ checkout
git checkout <specific-commit-hash>
cd ..

# 4. Submodule ì´ˆê¸°í™”
git submodule update --init --recursive
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] Submodule ì¶”ê°€ ì™„ë£Œ
- [ ] ë²„ì „ ê³ ì • ì™„ë£Œ  
- [ ] Submodule ë™ìž‘ í™•ì¸

**ì„±ê³µ ê¸°ì¤€**:
- kubespray-offline submodule ì •ìƒ ë™ìž‘
- ê¸°ì¡´ ë²„ì „ê³¼ ì¼ì¹˜ì„± í™•ì¸

#### ðŸ“ 4.3 ê¸°ë³¸ README ë° ë¬¸ì„œ ìƒì„± (1ì‹œê°„)
**ëª©ì **: ìƒˆ êµ¬ì¡°ì— ëŒ€í•œ ê¸°ë³¸ ë¬¸ì„œ ìž‘ì„±

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ê¸°ë³¸ README ìƒì„±
cat > README.md << 'EOF'
# Astrago Airgap ë°°í¬ ë„êµ¬

## ê°œìš”
Astrago í”Œëž«í¼ì˜ ì˜¤í”„ë¼ì¸ ë°°í¬ë¥¼ ìœ„í•œ í†µí•© ë„êµ¬ìž…ë‹ˆë‹¤.

## êµ¬ì¡°
- `kubespray-offline/`: Kubespray ì˜¤í”„ë¼ì¸ ë°°í¬ ë„êµ¬ (submodule)
- `astrago-wrapper/`: Astrago ì „ìš© ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸
- `inventory/`: Astrago ì¸ë²¤í† ë¦¬ ì„¤ì •
- `docs/`: ì‚¬ìš©ë²• ë° ë¬¸ì„œ

## ì‚¬ìš©ë²•
```bash
# ê¸°ë³¸ ì‚¬ìš©ë²• (ê¸°ì¡´ê³¼ ë™ì¼)
./setup-all.sh
./download-all.sh  
./offline_deploy_astrago.sh
```

## ë§ˆì´ê·¸ë ˆì´ì…˜ ì•ˆë‚´
ê¸°ì¡´ `airgap/` ë””ë ‰í† ë¦¬ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ëœ í†µí•© êµ¬ì¡°ìž…ë‹ˆë‹¤.
ì‚¬ìš©ë²•ì€ ê¸°ì¡´ê³¼ 100% ë™ì¼í•©ë‹ˆë‹¤.
EOF

# 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ìƒì„±
cat > docs/MIGRATION_GUIDE.md << 'EOF'
# Airgap ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

## ë³€ê²½ ì‚¬í•­
- ê¸°ì¡´: `airgap/` ë””ë ‰í† ë¦¬
- ìƒˆë¡œìš´: `astrago-airgap/` ë””ë ‰í† ë¦¬

## í˜¸í™˜ì„±
ëª¨ë“  ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ì™€ ì„¤ì •ì´ ê·¸ëŒ€ë¡œ ë™ìž‘í•©ë‹ˆë‹¤.

## ìƒˆë¡œìš´ ê¸°ëŠ¥
- kubespray-offline ìžë™ ì—…ë°ì´íŠ¸ ì§€ì›
- ë” ëª…í™•í•œ ë””ë ‰í† ë¦¬ êµ¬ì¡°
- í–¥ìƒëœ ë¬¸ì„œí™”
EOF
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ê¸°ë³¸ README ìž‘ì„± ì™„ë£Œ
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ìž‘ì„± ì™„ë£Œ
- [ ] ì‚¬ìš©ë²• ì•ˆë‚´ ë¬¸ì„œ ìž‘ì„± ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ìƒˆ êµ¬ì¡°ì— ëŒ€í•œ ëª…í™•í•œ ë¬¸ì„œ ì œê³µ
- ê¸°ì¡´ ì‚¬ìš©ìž í˜¼ëž€ ìµœì†Œí™”

### Day 5: ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜

#### ðŸ“¦ 5.1 ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì´ë™ ë° ë¶„ì„ (2ì‹œê°„)
**ëª©ì **: Astrago ì „ìš© ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ë“¤ì„ ìƒˆ ìœ„ì¹˜ë¡œ ì´ë™

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì‹ë³„ ë° ë³µì‚¬
cd ../airgap
WRAPPER_SCRIPTS=(
    "create_astrago_only_package.sh"
    "create_delivery_package.sh" 
    "deploy_kubernetes.sh"
    "download-all.sh"
    "extract_astrago_images.sh"
    "offline_deploy_astrago.sh"
    "reset_kubernetes.sh"
    "setup-all.sh"
)

# 2. ìŠ¤í¬ë¦½íŠ¸ ë³µì‚¬
cd ../astrago-airgap
for script in "${WRAPPER_SCRIPTS[@]}"; do
    cp "../airgap/$script" "astrago-wrapper/"
    echo "âœ… ë³µì‚¬ ì™„ë£Œ: $script"
done

# 3. ì‹¤í–‰ ê¶Œí•œ ì„¤ì •
chmod +x astrago-wrapper/*.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ë³µì‚¬ ì™„ë£Œ
- [ ] ì‹¤í–‰ ê¶Œí•œ ì„¤ì • ì™„ë£Œ
- [ ] ìŠ¤í¬ë¦½íŠ¸ ë¬´ê²°ì„± í™•ì¸ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- 8ê°œ ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ë³µì‚¬
- ì‹¤í–‰ ê¶Œí•œ ë° ì†ì„± ë³´ì¡´

#### ðŸ”§ 5.2 ê²½ë¡œ ì°¸ì¡° ìˆ˜ì • (3ì‹œê°„)
**ëª©ì **: ìƒˆ êµ¬ì¡°ì— ë§žê²Œ ê²½ë¡œ ì°¸ì¡° ìˆ˜ì •

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ê²½ë¡œ ì°¸ì¡° ë¶„ì„ ë° ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > update_script_paths.sh << 'EOF'
#!/bin/bash
set -e

echo "ðŸ”§ ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ìˆ˜ì • ì‹œìž‘..."

cd astrago-wrapper

# 2. kubespray-offline ì°¸ì¡° ê²½ë¡œ ìˆ˜ì •
for script in *.sh; do
    echo "ì²˜ë¦¬ ì¤‘: $script"
    
    # kubespray-offline ìƒëŒ€ ê²½ë¡œ ìˆ˜ì •
    sed -i 's|kubespray-offline/|../kubespray-offline/|g' "$script"
    
    # inventory ê²½ë¡œ ìˆ˜ì •  
    sed -i 's|inventory/|../inventory/|g' "$script"
    
    # ê¸°íƒ€ airgap ìƒëŒ€ ì°¸ì¡° ìˆ˜ì •
    sed -i 's|\./kubespray-offline|\.\./kubespray-offline|g' "$script"
    
    echo "âœ… ì™„ë£Œ: $script"
done

echo "ðŸŽ‰ ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ìˆ˜ì • ì™„ë£Œ"
EOF

chmod +x update_script_paths.sh
./update_script_paths.sh

# 3. ìˆ˜ì • ê²°ê³¼ í™•ì¸
grep -r "kubespray-offline" astrago-wrapper/ | head -5
grep -r "inventory" astrago-wrapper/ | head -5
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  ê²½ë¡œ ì°¸ì¡° ìˆ˜ì • ì™„ë£Œ
- [ ] ìƒëŒ€ ê²½ë¡œ ì •í™•ì„± ê²€ì¦ ì™„ë£Œ
- [ ] ìˆ˜ì • ì‚¬í•­ ë°±ì—… ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì˜¬ë°”ë¥¸ ê²½ë¡œ ì°¸ì¡° í™•ì¸
- ìˆ˜ì • ì „í›„ diff íŒŒì¼ ë³´ì¡´

### Day 6: ì„¤ì • íŒŒì¼ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° í…ŒìŠ¤íŠ¸

#### ðŸ“‹ 6.1 inventory ë° ì„¤ì • íŒŒì¼ ì´ë™ (1ì‹œê°„)
**ëª©ì **: Astrago ì»¤ìŠ¤í„°ë§ˆì´ì§• ì„¤ì • íŒŒì¼ë“¤ ì´ë™

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. inventory ë””ë ‰í† ë¦¬ ë‚´ìš© ë³µì‚¬
cp -r ../airgap/inventory/* inventory/

# 2. ì„¤ì • íŒŒì¼ êµ¬ì¡° í™•ì¸
find inventory -type f | head -10
echo "ðŸ“ Inventory íŒŒì¼ ìˆ˜: $(find inventory -type f | wc -l)"

# 3. ê¶Œí•œ ë° ì†ì„± ë³´ì¡´ í™•ì¸
ls -la inventory/
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  inventory íŒŒì¼ ë³µì‚¬ ì™„ë£Œ
- [ ] íŒŒì¼ ê¶Œí•œ ë³´ì¡´ í™•ì¸
- [ ] ë””ë ‰í† ë¦¬ êµ¬ì¡° ìœ ì§€ í™•ì¸

**ì„±ê³µ ê¸°ì¤€**:
- inventory íŒŒì¼ 100% ë³µì‚¬ ì™„ë£Œ
- ê¸°ì¡´ ì„¤ì • ë™ìž‘ ë³´ìž¥

#### ðŸ§ª 6.2 ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (2ì‹œê°„)
**ëª©ì **: ë§ˆì´ê·¸ë ˆì´ì…˜ëœ êµ¬ì¡°ì—ì„œ ê¸°ë³¸ ê¸°ëŠ¥ ë™ìž‘ í™•ì¸

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > test_basic_functions.sh << 'EOF'
#!/bin/bash
set -e

echo "ðŸ§ª ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œìž‘..."

cd astrago-wrapper

# 2. ê° ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ê²€ì‚¬
echo "ðŸ“ ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ê²€ì‚¬..."
for script in *.sh; do
    bash -n "$script" && echo "âœ… $script: ë¬¸ë²• OK" || echo "âŒ $script: ë¬¸ë²• ì˜¤ë¥˜"
done

# 3. ê²½ë¡œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸
echo "ðŸ“‚ ê²½ë¡œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸..."
[ -d "../kubespray-offline" ] && echo "âœ… kubespray-offline ì ‘ê·¼ OK" || echo "âŒ kubespray-offline ì ‘ê·¼ ë¶ˆê°€"
[ -d "../inventory" ] && echo "âœ… inventory ì ‘ê·¼ OK" || echo "âŒ inventory ì ‘ê·¼ ë¶ˆê°€"

# 4. Help ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸ (ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸ë§Œ)
echo "â„¹ï¸ Help ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸..."
for script in *.sh; do
    if ./"$script" --help >/dev/null 2>&1 || ./"$script" -h >/dev/null 2>&1; then
        echo "âœ… $script: help ì§€ì›"
    else
        echo "â„¹ï¸ $script: help ë¯¸ì§€ì›"
    fi
done

echo "ðŸŽ‰ ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ"
EOF

chmod +x test_basic_functions.sh
./test_basic_functions.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ê²€ì‚¬ í†µê³¼
- [ ] ê²½ë¡œ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ê¸°ë³¸ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ í†µê³¼

**ì„±ê³µ ê¸°ì¤€**:
- ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ì˜¤ë¥˜ 0ê°œ
- ê²½ë¡œ ì ‘ê·¼ ì„±ê³µë¥  100%
- ê¸°ë³¸ ê¸°ëŠ¥ ë™ìž‘ í™•ì¸

#### ðŸ”„ 6.3 í˜¸í™˜ì„± ê²€ì¦ (1ì‹œê°„)
**ëª©ì **: ê¸°ì¡´ ì‚¬ìš©ë²•ê³¼ì˜ 100% í˜¸í™˜ì„± ê²€ì¦

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > test_compatibility.sh << 'EOF'
#!/bin/bash

echo "ðŸ”„ í˜¸í™˜ì„± ê²€ì¦ í…ŒìŠ¤íŠ¸..."

# 2. ê¸°ì¡´ airgapê³¼ ìƒˆ astrago-airgap ë¹„êµ
echo "ðŸ“Š ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ ë¹„êµ:"
OLD_COUNT=$(ls ../airgap/*.sh 2>/dev/null | wc -l)
NEW_COUNT=$(ls astrago-wrapper/*.sh 2>/dev/null | wc -l)
echo "  ê¸°ì¡´: ${OLD_COUNT}ê°œ"
echo "  ì‹ ê·œ: ${NEW_COUNT}ê°œ"

# 3. ìŠ¤í¬ë¦½íŠ¸ ì´ë¦„ ë¹„êµ
echo "ðŸ“‹ ìŠ¤í¬ë¦½íŠ¸ ì´ë¦„ ë¹„êµ:"
echo "ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ë“¤:"
ls ../airgap/*.sh 2>/dev/null | xargs -n1 basename | sort
echo "ìƒˆ ìŠ¤í¬ë¦½íŠ¸ë“¤:"
ls astrago-wrapper/*.sh 2>/dev/null | xargs -n1 basename | sort

# 4. ì£¼ìš” ê¸°ëŠ¥ í¬ì¸íŠ¸ í™•ì¸
echo "ðŸŽ¯ ì£¼ìš” ê¸°ëŠ¥ í™•ì¸:"
echo "  - setup-all.sh: $([ -f astrago-wrapper/setup-all.sh ] && echo 'âœ…' || echo 'âŒ')"
echo "  - download-all.sh: $([ -f astrago-wrapper/download-all.sh ] && echo 'âœ…' || echo 'âŒ')"
echo "  - offline_deploy_astrago.sh: $([ -f astrago-wrapper/offline_deploy_astrago.sh ] && echo 'âœ…' || echo 'âŒ')"

echo "ðŸŽ‰ í˜¸í™˜ì„± ê²€ì¦ ì™„ë£Œ"
EOF

chmod +x test_compatibility.sh
./test_compatibility.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ ì¼ì¹˜ í™•ì¸
- [ ] í•µì‹¬ ê¸°ëŠ¥ ìŠ¤í¬ë¦½íŠ¸ ì¡´ìž¬ í™•ì¸
- [ ] ì‚¬ìš©ë²• í˜¸í™˜ì„± 100% í™•ì¸

**ì„±ê³µ ê¸°ì¤€**:
- ëª¨ë“  ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ì¡´ìž¬
- ê¸°ì¡´ ì‚¬ìš©ë²•ìœ¼ë¡œ ì •ìƒ ë™ìž‘
- í˜¸í™˜ì„± ê²€ì¦ í†µê³¼

---

## ðŸš€ Phase 3: í†µí•© ë° ê²€ì¦ ë‹¨ê³„ (2-3ì¼)

### Day 7: ì‹¬ë³¼ë¦­ ë§í¬ ë° í†µí•© í…ŒìŠ¤íŠ¸

#### ðŸ”— 7.1 í˜¸í™˜ì„±ì„ ìœ„í•œ ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± (1ì‹œê°„)
**ëª©ì **: ê¸°ì¡´ ê²½ë¡œì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì‹¬ë³¼ë¦­ ë§í¬ ì„¤ì •

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ë£¨íŠ¸ ë ˆë²¨ì—ì„œ íŽ¸ì˜ì„± ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±
cd ..  # astrago-deployment ë£¨íŠ¸ë¡œ ì´ë™

# 2. ì£¼ìš” ìŠ¤í¬ë¦½íŠ¸ë“¤ì— ëŒ€í•œ íŽ¸ì˜ ë§í¬ ìƒì„± (ì„ íƒì‚¬í•­)
ln -sf astrago-airgap/astrago-wrapper/setup-all.sh setup-airgap.sh
ln -sf astrago-airgap/astrago-wrapper/download-all.sh download-airgap.sh
ln -sf astrago-airgap/astrago-wrapper/offline_deploy_astrago.sh deploy-airgap.sh

# 3. ë§í¬ ìƒì„± í™•ì¸
ls -la *airgap*.sh
echo "âœ… íŽ¸ì˜ ë§í¬ ìƒì„± ì™„ë£Œ"
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± ì™„ë£Œ
- [ ] ë§í¬ ë™ìž‘ í™•ì¸ ì™„ë£Œ
- [ ] íŽ¸ì˜ì„± ê°œì„  í™•ì¸

**ì„±ê³µ ê¸°ì¤€**:
- ë£¨íŠ¸ì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- ê¸°ì¡´ ì‚¬ìš©ìž íŽ¸ì˜ì„± í–¥ìƒ

#### ðŸ§ª 7.2 í†µí•© ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (3ì‹œê°„)
**ëª©ì **: ì „ì²´ ì›Œí¬í”Œë¡œìš° end-to-end í…ŒìŠ¤íŠ¸

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ì¢…í•© í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > comprehensive_test.sh << 'EOF'
#!/bin/bash
set -e

echo "ðŸš€ ì¢…í•© ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œìž‘..."

# 2. í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
TEST_ENV="test-env-$(date +%s)"
mkdir -p "$TEST_ENV"
cd "$TEST_ENV"

# 3. astrago-airgap ë³µì‚¬
cp -r ../astrago-airgap .

# 4. ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸
echo "ðŸ“‹ 1ë‹¨ê³„: êµ¬ì¡° ê²€ì¦"
cd astrago-airgap
[ -d kubespray-offline ] && echo "âœ… submodule ì¡´ìž¬" || echo "âŒ submodule ëˆ„ë½"
[ -d astrago-wrapper ] && echo "âœ… wrapper ë””ë ‰í† ë¦¬ ì¡´ìž¬" || echo "âŒ wrapper ëˆ„ë½"
[ -d inventory ] && echo "âœ… inventory ë””ë ‰í† ë¦¬ ì¡´ìž¬" || echo "âŒ inventory ëˆ„ë½"

echo "ðŸ“‹ 2ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í…ŒìŠ¤íŠ¸"
cd astrago-wrapper
for script in setup-all.sh download-all.sh; do
    if [ -f "$script" ]; then
        echo "í…ŒìŠ¤íŠ¸: $script --help"
        ./"$script" --help 2>/dev/null && echo "âœ… $script ì‹¤í–‰ ê°€ëŠ¥" || echo "â„¹ï¸ $script help ë¯¸ì§€ì›"
    fi
done

echo "ðŸ“‹ 3ë‹¨ê³„: ì˜ì¡´ì„± í™•ì¸"
# kubespray-offline ë‚´ë¶€ íŒŒì¼ ì ‘ê·¼ í…ŒìŠ¤íŠ¸
ls ../kubespray-offline/ >/dev/null 2>&1 && echo "âœ… kubespray-offline ì ‘ê·¼ OK" || echo "âŒ ì ‘ê·¼ ì‹¤íŒ¨"

# inventory íŒŒì¼ ì ‘ê·¼ í…ŒìŠ¤íŠ¸  
ls ../inventory/ >/dev/null 2>&1 && echo "âœ… inventory ì ‘ê·¼ OK" || echo "âŒ ì ‘ê·¼ ì‹¤íŒ¨"

echo "ðŸŽ‰ ì¢…í•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ"

# 5. í…ŒìŠ¤íŠ¸ ì •ë¦¬
cd ../../..
rm -rf "$TEST_ENV"
echo "ðŸ§¹ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì •ë¦¬ ì™„ë£Œ"
EOF

chmod +x comprehensive_test.sh
./comprehensive_test.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ì „ì²´ ì›Œí¬í”Œë¡œìš° ì •ìƒ ë™ìž‘ í™•ì¸
- [ ] ì˜ì¡´ì„± ëˆ„ë½ ì—†ìŒ í™•ì¸
- [ ] ì„±ëŠ¥ ì €í•˜ ì—†ìŒ í™•ì¸

**ì„±ê³µ ê¸°ì¤€**:
- End-to-end í…ŒìŠ¤íŠ¸ 100% í†µê³¼
- ê¸°ì¡´ ëŒ€ë¹„ ì„±ëŠ¥ ë™ë“± ì´ìƒ

### Day 8: ë¬¸ì„œí™” ì™„ì„± ë° ë°°í¬ ì¤€ë¹„

#### ðŸ“š 8.1 ì™„ì „í•œ ë¬¸ì„œí™” (2ì‹œê°„)
**ëª©ì **: ì‚¬ìš©ìž ê°€ì´ë“œ ë° ê°œë°œìž ë¬¸ì„œ ì™„ì„±

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ë©”ì¸ README ì—…ë°ì´íŠ¸
cd astrago-airgap
cat > README.md << 'EOF'
# Astrago Airgap ë°°í¬ ë„êµ¬

## âœ¨ ìƒˆë¡œìš´ í†µí•© êµ¬ì¡°

### ê°œìš”
Astrago í”Œëž«í¼ì˜ ì˜¤í”„ë¼ì¸ ë°°í¬ë¥¼ ìœ„í•œ **í†µí•© ë„êµ¬**ìž…ë‹ˆë‹¤.
ê¸°ì¡´ `airgap/` ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í¬í•¨í•˜ë©´ì„œ ë” ì²´ê³„ì ì¸ êµ¬ì¡°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ðŸ—ï¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
astrago-airgap/
â”œâ”€â”€ kubespray-offline/     # Kubespray ì˜¤í”„ë¼ì¸ ë°°í¬ ë„êµ¬ (submodule)
â”œâ”€â”€ astrago-wrapper/       # Astrago ì „ìš© ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ inventory/             # Astrago ì¸ë²¤í† ë¦¬ ì„¤ì •  
â””â”€â”€ docs/                  # ì‚¬ìš©ë²• ë° ë¬¸ì„œ
```

### ðŸš€ ì‚¬ìš©ë²• (ê¸°ì¡´ê³¼ 100% ë™ì¼)
```bash
# ì „ì²´ ì„¤ì • (í•œ ë²ˆë§Œ ì‹¤í–‰)
cd astrago-airgap/astrago-wrapper
./setup-all.sh

# íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ  
./download-all.sh

# ì˜¤í”„ë¼ì¸ ë°°í¬ ì‹¤í–‰
./offline_deploy_astrago.sh
```

### ðŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ ì•ˆë‚´
- **ê¸°ì¡´**: `airgap/` ë””ë ‰í† ë¦¬ ì‚¬ìš©
- **ì‹ ê·œ**: `astrago-airgap/` ë””ë ‰í† ë¦¬ ì‚¬ìš©
- **í˜¸í™˜ì„±**: ëª¨ë“  ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ì™€ ì„¤ì • 100% í˜¸í™˜

### ðŸ†• ìƒˆë¡œìš´ ìž¥ì 
- kubespray-offline ìžë™ ì—…ë°ì´íŠ¸ ì§€ì›
- ëª…í™•í•œ ì±…ìž„ ë¶„ë¦¬ (upstream vs Astrago ì»¤ìŠ¤í„°ë§ˆì´ì§•)
- ë” ë‚˜ì€ ë²„ì „ ê´€ë¦¬
- í–¥ìƒëœ ë¬¸ì„œí™”

### ðŸ“‹ ì£¼ìš” ìŠ¤í¬ë¦½íŠ¸
- `setup-all.sh`: ì´ˆê¸° í™˜ê²½ ì„¤ì •
- `download-all.sh`: í•„ìš” íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ
- `offline_deploy_astrago.sh`: ì˜¤í”„ë¼ì¸ ë°°í¬ ì‹¤í–‰
- `create_delivery_package.sh`: ë°°í¬ íŒ¨í‚¤ì§€ ìƒì„±
- `reset_kubernetes.sh`: í™˜ê²½ ì´ˆê¸°í™”

### ðŸ†˜ ë¬¸ì œ í•´ê²°
ë¬¸ì œ ë°œìƒ ì‹œ `docs/TROUBLESHOOTING.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---
**ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ**: $(date +%Y-%m-%d)
EOF

# 2. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ìƒì„±
mkdir -p docs
cat > docs/TROUBLESHOOTING.md << 'EOF'
# íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

## ìžì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

### 1. "kubespray-offline ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ"
**ì¦ìƒ**: `../kubespray-offline: No such file or directory`

**í•´ê²° ë°©ë²•**:
```bash
# submodule ì´ˆê¸°í™”
git submodule update --init --recursive
```

### 2. "ê¶Œí•œ ê±°ë¶€" ì˜¤ë¥˜  
**ì¦ìƒ**: `Permission denied` ì‹¤í–‰ ì˜¤ë¥˜

**í•´ê²° ë°©ë²•**:
```bash
# ì‹¤í–‰ ê¶Œí•œ ë³µì›
chmod +x astrago-wrapper/*.sh
```

### 3. "inventory íŒŒì¼ ì—†ìŒ" ì˜¤ë¥˜
**ì¦ìƒ**: inventory ê´€ë ¨ ì„¤ì • íŒŒì¼ ëˆ„ë½

**í•´ê²° ë°©ë²•**:
```bash
# inventory ë””ë ‰í† ë¦¬ í™•ì¸
ls -la inventory/
# í•„ìš”ì‹œ ê¸°ì¡´ airgap/inventoryì—ì„œ ë³µì‚¬
cp -r ../airgap/inventory/* inventory/
```

## ë¡¤ë°± ì ˆì°¨
ì‹¬ê°í•œ ë¬¸ì œ ë°œìƒ ì‹œ:
1. ê¸°ì¡´ airgap ë””ë ‰í† ë¦¬ ì‚¬ìš©ìœ¼ë¡œ ì¦‰ì‹œ ë¡¤ë°±
2. backup ë¸Œëžœì¹˜ë¡œ ë³µì›: `git checkout backup/pre-airgap-migration-*`
3. ì´ìŠˆ ë³´ê³  ë° ë¶„ì„

## ì§€ì› ì—°ë½ì²˜
- GitHub Issues: [í”„ë¡œì íŠ¸ ì €ìž¥ì†Œ ì´ìŠˆ íŽ˜ì´ì§€]
- Linear: BE-550 (ë©”ì¸ ì´ìŠˆ)
EOF

# 3. ê°œë°œìž ê°€ì´ë“œ ìƒì„±
cat > docs/DEVELOPER_GUIDE.md << 'EOF'
# ê°œë°œìž ê°€ì´ë“œ

## Submodule ê´€ë¦¬

### ì—…ë°ì´íŠ¸ ë°©ë²•
```bash
cd kubespray-offline
git fetch origin
git checkout [ìƒˆë¡œìš´ íƒœê·¸/ë¸Œëžœì¹˜]
cd ..
git add kubespray-offline
git commit -m "Update kubespray-offline to [ë²„ì „]"
```

### ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ì‹œ ì£¼ì˜ì‚¬í•­
- ëª¨ë“  ê²½ë¡œëŠ” ìƒëŒ€ ê²½ë¡œ ì‚¬ìš©
- kubespray-offline ì°¸ì¡°: `../kubespray-offline/`
- inventory ì°¸ì¡°: `../inventory/`

## í…ŒìŠ¤íŠ¸ ë°©ë²•
```bash
# ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
./test_basic_functions.sh

# í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸
./test_compatibility.sh

# ì¢…í•© í…ŒìŠ¤íŠ¸
./comprehensive_test.sh
```

## ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤
1. ê¸°ëŠ¥ ê°œë°œ ë° í…ŒìŠ¤íŠ¸
2. ë¬¸ì„œ ì—…ë°ì´íŠ¸
3. ë²„ì „ íƒœê·¸ ìƒì„±
4. ë°°í¬ íŒ¨í‚¤ì§€ ìƒì„±
EOF
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ì™„ì „í•œ ì‚¬ìš©ìž ê°€ì´ë“œ ìž‘ì„± ì™„ë£Œ
- [ ] íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ìž‘ì„± ì™„ë£Œ
- [ ] ê°œë°œìž ë¬¸ì„œ ìž‘ì„± ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ëª¨ë“  ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ ë¬¸ì„œí™”
- ë¬¸ì œ í•´ê²° ë°©ë²• ì œê³µ

#### ðŸŽ¯ 8.2 ìµœì¢… ê²€ì¦ ë° ìŠ¹ì¸ (2ì‹œê°„)
**ëª©ì **: í”„ë¡œë•ì…˜ ë°°í¬ ì „ ìµœì¢… ê²€ì¦

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‹¤í–‰
cat > final_verification.sh << 'EOF'
#!/bin/bash

echo "ðŸŽ¯ ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸"
echo "========================"

# íŒŒì¼ ìˆ˜ ê²€ì¦
echo "ðŸ“Š íŒŒì¼ ìˆ˜ ë¹„êµ:"
OLD_FILES=$(find ../airgap -type f | wc -l)
NEW_FILES=$(find . -type f | wc -l)
echo "  ê¸°ì¡´: $OLD_FILES ê°œ"  
echo "  ì‹ ê·œ: $NEW_FILES ê°œ"

# í•µì‹¬ ê¸°ëŠ¥ ê²€ì¦
echo "ðŸ”§ í•µì‹¬ ê¸°ëŠ¥ ê²€ì¦:"
CORE_SCRIPTS=(
    "astrago-wrapper/setup-all.sh"
    "astrago-wrapper/download-all.sh" 
    "astrago-wrapper/offline_deploy_astrago.sh"
)

for script in "${CORE_SCRIPTS[@]}"; do
    if [ -f "$script" ] && [ -x "$script" ]; then
        echo "  âœ… $script"
    else
        echo "  âŒ $script (ëˆ„ë½ ë˜ëŠ” ì‹¤í–‰ ë¶ˆê°€)"
    fi
done

# êµ¬ì¡° ê²€ì¦
echo "ðŸ—ï¸ êµ¬ì¡° ê²€ì¦:"
[ -d "kubespray-offline" ] && echo "  âœ… kubespray-offline (submodule)" || echo "  âŒ kubespray-offline ëˆ„ë½"
[ -d "astrago-wrapper" ] && echo "  âœ… astrago-wrapper" || echo "  âŒ astrago-wrapper ëˆ„ë½"
[ -d "inventory" ] && echo "  âœ… inventory" || echo "  âŒ inventory ëˆ„ë½"
[ -d "docs" ] && echo "  âœ… docs" || echo "  âŒ docs ëˆ„ë½"

# ë¬¸ì„œ ê²€ì¦
echo "ðŸ“š ë¬¸ì„œ ê²€ì¦:"
[ -f "README.md" ] && echo "  âœ… README.md" || echo "  âŒ README.md ëˆ„ë½"
[ -f "docs/TROUBLESHOOTING.md" ] && echo "  âœ… íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ" || echo "  âŒ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ëˆ„ë½"
[ -f "docs/DEVELOPER_GUIDE.md" ] && echo "  âœ… ê°œë°œìž ê°€ì´ë“œ" || echo "  âŒ ê°œë°œìž ê°€ì´ë“œ ëˆ„ë½"

echo "ðŸŽ‰ ìµœì¢… ê²€ì¦ ì™„ë£Œ"
echo "ìŠ¹ì¸ ìƒíƒœ: $([ $? -eq 0 ] && echo 'âœ… PASS' || echo 'âŒ FAIL')"
EOF

chmod +x final_verification.sh
./final_verification.sh
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  íŒŒì¼ ë° ê¸°ëŠ¥ ê²€ì¦ í†µê³¼
- [ ] ë¬¸ì„œí™” ì™„ì„±ë„ 100% í™•ì¸
- [ ] íŒ€ ë¦¬ë·° ë° ìµœì¢… ìŠ¹ì¸ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ 100% í†µê³¼
- í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ

### Day 9: ë°°í¬ ë° ì •ë¦¬ (ì„ íƒì )

#### ðŸš€ 9.1 í”„ë¡œë•ì…˜ ë°°í¬ (1ì‹œê°„)
**ëª©ì **: ìƒˆ êµ¬ì¡°ë¥¼ í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ë°°í¬ ì „ ìµœì¢… ë°±ì—…
git add .
git commit -m "feat: Complete airgap to astrago-airgap migration

- Migrate airgap directory to astrago-airgap unified structure
- Add kubespray-offline as submodule
- Preserve 100% compatibility with existing usage
- Add comprehensive documentation and troubleshooting guides
- Maintain all wrapper scripts and configurations

Linear: BE-550, BE-551, BE-552, BE-553"

# 2. ë°°í¬ íƒœê·¸ ìƒì„±
git tag -a "v2.0.0-airgap-migration" -m "Astrago Airgap Migration v2.0.0

Major Changes:
- New unified astrago-airgap directory structure
- kubespray-offline as submodule for better version management
- 100% backward compatibility maintained
- Enhanced documentation and developer guides

Migration completed: $(date +%Y-%m-%d)"

# 3. ì›ê²© ì €ìž¥ì†Œì— í‘¸ì‹œ (ì‹¤ì œ í™˜ê²½ì— ë”°ë¼)
echo "ë°°í¬ ì¤€ë¹„ ì™„ë£Œ. ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ë°°í¬:"
echo "git push origin feature/BE-384-helmfile-refactoring"
echo "git push origin --tags"
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] í”„ë¡œë•ì…˜ ë°°í¬ ì™„ë£Œ
- [ ] íƒœê·¸ ë° ë²„ì „ ê´€ë¦¬ ì™„ë£Œ
- [ ] íŒ€ ê³µìœ  ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì •ìƒ ë™ìž‘ í™•ì¸
- ìƒˆ êµ¬ì¡° ì‚¬ìš© ê°€ëŠ¥ ìƒíƒœ

#### ðŸ§¹ 9.2 ì •ë¦¬ ë° ë¬¸ì„œí™” ë§ˆë¬´ë¦¬ (1ì‹œê°„)
**ëª©ì **: ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ í›„ ì •ë¦¬ ìž‘ì—…

**ì‹¤í–‰ ìˆœì„œ**:
```bash
# 1. ìž„ì‹œ íŒŒì¼ ì •ë¦¬
rm -f *.sh (í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë“¤)
rm -rf test-env-* (ìž„ì‹œ í…ŒìŠ¤íŠ¸ í™˜ê²½)

# 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ë³´ê³ ì„œ ìƒì„±
cat > MIGRATION_REPORT.md << 'EOF'
# Airgap ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ë³´ê³ ì„œ

## í”„ë¡œì íŠ¸ ê°œìš”
- **ê¸°ê°„**: $(date +%Y-%m-%d) ~ $(date +%Y-%m-%d)
- **Linear ì´ìŠˆ**: BE-550 (ë©”ì¸), BE-551~553 (Phaseë³„)
- **ëª©í‘œ**: airgap ë””ë ‰í† ë¦¬ë¥¼ astrago-airgap í†µí•© êµ¬ì¡°ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

## ë‹¬ì„±ëœ ëª©í‘œ
- âœ… 303ê°œ íŒŒì¼ ì™„ì „ ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… kubespray-offline submodule ì ìš©
- âœ… 100% í˜¸í™˜ì„± ìœ ì§€
- âœ… í†µí•© ë¬¸ì„œí™” ì™„ì„±

## ìƒˆë¡œìš´ êµ¬ì¡°
```
astrago-airgap/
â”œâ”€â”€ kubespray-offline/     # Submodule
â”œâ”€â”€ astrago-wrapper/       # 8ê°œ ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ inventory/             # ì„¤ì • íŒŒì¼ë“¤
â””â”€â”€ docs/                  # ì™„ì „í•œ ë¬¸ì„œ
```

## ì£¼ìš” ê°œì„ ì‚¬í•­
- ëª…í™•í•œ ì±…ìž„ ë¶„ë¦¬ (upstream vs customization)
- ìžë™ ì—…ë°ì´íŠ¸ ì§€ì› (submodule)
- í–¥ìƒëœ ë¬¸ì„œí™” ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
- ê°œë°œìž ì¹œí™”ì  êµ¬ì¡°

## ê²€ì¦ ê²°ê³¼
- íŒŒì¼ ë¬´ê²°ì„±: 100%
- ê¸°ëŠ¥ í˜¸í™˜ì„±: 100% 
- ì„±ëŠ¥: ë™ë“± ì´ìƒ
- ë¬¸ì„œí™”: ì™„ì „ (ì‚¬ìš©ìž+ê°œë°œìž+íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

## ë‹¤ìŒ ë‹¨ê³„
1. íŒ€ êµìœ¡ ë° ì˜¨ë³´ë”©
2. ê¸°ì¡´ airgap ë””ë ‰í† ë¦¬ deprecation ìŠ¤ì¼€ì¤„ë§
3. CI/CD íŒŒì´í”„ë¼ì¸ ì—…ë°ì´íŠ¸
4. ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ ë°°í¬

**ë§ˆì´ê·¸ë ˆì´ì…˜ ì„±ê³µì  ì™„ë£Œ**: $(date +%Y-%m-%d %H:%M:%S)
EOF

echo "ðŸŽ‰ Airgap ë§ˆì´ê·¸ë ˆì´ì…˜ í”„ë¡œì íŠ¸ ì™„ë£Œ!"
echo "ðŸ“‹ ì™„ë£Œ ë³´ê³ ì„œ: MIGRATION_REPORT.md"
```

**ì²´í¬í¬ì¸íŠ¸**:
- [ ] ëª¨ë“  ìž„ì‹œ íŒŒì¼ ì •ë¦¬ ì™„ë£Œ
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ë³´ê³ ì„œ ìž‘ì„± ì™„ë£Œ
- [ ] íŒ€ ê³µìœ  ë° í”¼ë“œë°± ìˆ˜ì§‘ ì™„ë£Œ

**ì„±ê³µ ê¸°ì¤€**:
- ê¹”ë”í•œ í”„ë¡œì íŠ¸ ë§ˆë¬´ë¦¬
- ì™„ì „í•œ ë¬¸ì„œí™” ë° ë³´ê³ 

---

## ðŸ›¡ï¸ ìœ„í—˜ ê´€ë¦¬ ë° ë¡¤ë°± ì „ëžµ

### ìœ„í—˜ë„ë³„ ë¶„ë¥˜

#### ðŸ”´ High Risk
1. **Submodule ë™ê¸°í™” ì‹¤íŒ¨**
   - **ìœ„í—˜**: kubespray-offline submodule ì´ˆê¸°í™”/ì—…ë°ì´íŠ¸ ì‹¤íŒ¨
   - **ëŒ€ì‘**: ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ í´ë¡  í›„ ë””ë ‰í† ë¦¬ ë³µì‚¬
   - **ë¡¤ë°±**: ê¸°ì¡´ airgap/kubespray-offline ì‚¬ìš©

2. **ê²½ë¡œ ì°¸ì¡° ì˜¤ë¥˜** 
   - **ìœ„í—˜**: ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ì˜ ìž˜ëª»ëœ ìƒëŒ€ ê²½ë¡œ ì°¸ì¡°
   - **ëŒ€ì‘**: ìžë™ ê²½ë¡œ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ + ìˆ˜ë™ ê²€ì¦
   - **ë¡¤ë°±**: ë°±ì—…ëœ ì›ë³¸ ìŠ¤í¬ë¦½íŠ¸ ë³µì›

3. **ê¶Œí•œ ì†ì„± ì†ì‹¤**
   - **ìœ„í—˜**: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ì†Œì‹¤
   - **ëŒ€ì‘**: ì‹¤í–‰ ê¶Œí•œ ìžë™ ë³µì› ìŠ¤í¬ë¦½íŠ¸
   - **ë¡¤ë°±**: ê¸°ì¡´ airgap ê¶Œí•œ ì„¤ì • ë³µì‚¬

#### ðŸŸ¡ Medium Risk  
1. **ì„¤ì • íŒŒì¼ ëˆ„ë½**
   - **ìœ„í—˜**: inventory ë“± ì„¤ì • íŒŒì¼ ë³µì‚¬ ëˆ„ë½
   - **ëŒ€ì‘**: íŒŒì¼ ìˆ˜ ë¹„êµ ë° ì°¨ì´ ë¶„ì„
   - **ë¡¤ë°±**: ëˆ„ë½ íŒŒì¼ ê°œë³„ ë³µì‚¬

2. **ë¬¸ì„œí™” ë¶ˆì™„ì „**
   - **ìœ„í—˜**: ì‚¬ìš©ë²• ë³€ê²½ìœ¼ë¡œ ì¸í•œ í˜¼ëž€
   - **ëŒ€ì‘**: ìƒì„¸í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì œê³µ
   - **ë¡¤ë°±**: ê¸°ì¡´ README ìž„ì‹œ ìœ ì§€

#### ðŸŸ¢ Low Risk
1. **ì„±ëŠ¥ ì €í•˜**
   - **ìœ„í—˜**: ìƒˆ êµ¬ì¡°ë¡œ ì¸í•œ ë¯¸ë¯¸í•œ ì„±ëŠ¥ ì˜í–¥
   - **ëŒ€ì‘**: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”
   - **ë¡¤ë°±**: íŠ¹ë³„í•œ ì¡°ì¹˜ ë¶ˆí•„ìš”

### ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤ë³„ ëŒ€ì‘

#### ì¦‰ì‹œ ë¡¤ë°± (ê¸´ê¸‰)
```bash
# 1. ê¸°ì¡´ airgap ë””ë ‰í† ë¦¬ ì¦‰ì‹œ ì‚¬ìš©
cd airgap
./setup-all.sh  # ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ì¦‰ì‹œ ë³µêµ¬

# 2. Git ë°±ì—… ë¸Œëžœì¹˜ë¡œ ë³µì›  
git stash
git checkout backup/pre-airgap-migration-$(date +%Y%m%d)
```

#### ë¶€ë¶„ ë¡¤ë°± (ì„ íƒì )
```bash
# íŠ¹ì • ìŠ¤í¬ë¦½íŠ¸ë§Œ ê¸°ì¡´ ê²ƒ ì‚¬ìš©
cp airgap/offline_deploy_astrago.sh astrago-airgap/astrago-wrapper/
chmod +x astrago-airgap/astrago-wrapper/offline_deploy_astrago.sh
```

#### ì ì§„ì  ë¡¤ë°± (ê³„íšì )
```bash
# 1ì£¼ì¼ê°„ ë³‘í–‰ ì‚¬ìš© í›„ ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜
# ìƒˆ êµ¬ì¡° í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ í•„ìš”ì‹œ ê¸°ì¡´ êµ¬ì¡°ë¡œ fallback
```

---

## ðŸ“Š ì„±ê³µ ê¸°ì¤€ ë° í’ˆì§ˆ ê²Œì´íŠ¸

### Phaseë³„ ì„±ê³µ ê¸°ì¤€

#### Phase 1 ì„±ê³µ ê¸°ì¤€
- [ ] ì¢…ì†ì„± ë¶„ì„ 100% ì™„ë£Œ (303ê°œ íŒŒì¼ ì „ì²´)
- [ ] íŒŒì¼ ë¶„ë¥˜ ë§¤í•‘ ì™„ë£Œ (Astrago vs upstream êµ¬ë¶„)
- [ ] ë°±ì—… ë° ë¡¤ë°± ì „ëžµ ê²€ì¦ ì™„ë£Œ
- [ ] ìœ„í—˜ ìš”ì†Œ 3ê°œ ì´í•˜ë¡œ ìˆ˜ë ´

#### Phase 2 ì„±ê³µ ê¸°ì¤€  
- [ ] astrago-airgap ë””ë ‰í† ë¦¬ ìƒì„± ì™„ë£Œ
- [ ] kubespray-offline submodule ì •ìƒ ë™ìž‘
- [ ] 8ê°œ ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ 100% ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼

#### Phase 3 ì„±ê³µ ê¸°ì¤€
- [ ] End-to-end í…ŒìŠ¤íŠ¸ 100% í†µê³¼
- [ ] í˜¸í™˜ì„± ê²€ì¦ 100% ì™„ë£Œ
- [ ] ë¬¸ì„œí™” ì™„ì„±ë„ 95% ì´ìƒ
- [ ] íŒ€ ë¦¬ë·° ë° ìŠ¹ì¸ ì™„ë£Œ

### í’ˆì§ˆ ê²Œì´íŠ¸

#### ðŸ”’ Gate 1: Phase 1 â†’ Phase 2 ì§„ìž…
- ì¢…ì†ì„± ë¶„ì„ ì™„ë£Œë„ 95% ì´ìƒ
- High Risk í•­ëª© 3ê°œ ì´í•˜
- ë°±ì—…/ë¡¤ë°± í…ŒìŠ¤íŠ¸ í†µê³¼

#### ðŸ”’ Gate 2: Phase 2 â†’ Phase 3 ì§„ìž…  
- ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ 100% í†µê³¼
- íŒŒì¼ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œë„ 100%
- ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ì˜¤ë¥˜ 0ê°œ

#### ðŸ”’ Gate 3: í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¹ì¸
- End-to-end í…ŒìŠ¤íŠ¸ 100% í†µê³¼
- ë¬¸ì„œí™” ì™„ì„±ë„ 95% ì´ìƒ
- íŒ€ ìµœì¢… ìŠ¹ì¸ ì™„ë£Œ

### ìžë™í™” vs ìˆ˜ë™ í™•ì¸ êµ¬ë¶„

#### âœ… ìžë™í™” ê°€ëŠ¥ ì˜ì—­
- íŒŒì¼ ìˆ˜ ë¹„êµ ë° ê²€ì¦
- ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²• ê²€ì‚¬ (`bash -n`)
- ê²½ë¡œ ì°¸ì¡° ê²€ì¦
- ê¶Œí•œ ì„¤ì • í™•ì¸
- ê¸°ë³¸ êµ¬ì¡° ê²€ì¦

#### ðŸ‘¤ ìˆ˜ë™ í™•ì¸ í•„ìš” ì˜ì—­
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì •í™•ì„±
- ì‚¬ìš©ìž ê²½í—˜ ê²€ì¦  
- ë¬¸ì„œ ê°€ë…ì„± ë° ì •í™•ì„±
- ìµœì¢… ìŠ¹ì¸ ê²°ì •
- ë³µìž¡í•œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

---

## ðŸš€ ìžë™í™” ìŠ¤í¬ë¦½íŠ¸ ê°œë°œ ê³„íš

### í•µì‹¬ ìžë™í™” ìŠ¤í¬ë¦½íŠ¸

#### 1. `migration_orchestrator.sh` (ë§ˆìŠ¤í„° ìŠ¤í¬ë¦½íŠ¸)
```bash
#!/bin/bash
# ì „ì²´ ë§ˆì´ê·¸ë ˆì´ì…˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ë§ˆìŠ¤í„° ìŠ¤í¬ë¦½íŠ¸
# Usage: ./migration_orchestrator.sh [phase1|phase2|phase3|all]
```

#### 2. `dependency_analyzer.sh` (ì¢…ì†ì„± ë¶„ì„)
```bash  
#!/bin/bash
# airgap ë‚´ ëª¨ë“  íŒŒì¼ ê°„ ì˜ì¡´ì„± ìžë™ ë¶„ì„
# ê²°ê³¼: dependency-matrix.csv ìƒì„±
```

#### 3. `structure_validator.sh` (êµ¬ì¡° ê²€ì¦)
```bash
#!/bin/bash  
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì „í›„ êµ¬ì¡° ë¹„êµ ë° ê²€ì¦
# ê²°ê³¼: validation-report.txt ìƒì„±
```

#### 4. `rollback_manager.sh` (ë¡¤ë°± ê´€ë¦¬)
```bash
#!/bin/bash
# ìžë™ ë¡¤ë°± ì‹¤í–‰ ë° ìƒíƒœ ë³µì›
# Usage: ./rollback_manager.sh [immediate|partial|full]
```

### ê°œë°œ ìš°ì„ ìˆœìœ„
1. **Week 1**: migration_orchestrator.sh ê°œë°œ
2. **Week 2**: dependency_analyzer.sh ê°œë°œ  
3. **Week 3**: structure_validator.sh ê°œë°œ
4. **Week 4**: rollback_manager.sh ê°œë°œ

### í†µí•© í…ŒìŠ¤íŠ¸ ìžë™í™”
- GitHub Actions ë˜ëŠ” GitLab CI ì—°ë™
- ë§¤ì¼ ìžë™ êµ¬ì¡° ê²€ì¦
- í˜¸í™˜ì„± íšŒê·€ í…ŒìŠ¤íŠ¸ ìžë™ ì‹¤í–‰

---

## ðŸ“… íƒ€ìž„ë¼ì¸ ë° ë§ˆì¼ìŠ¤í†¤

### ì „ì²´ ì¼ì • (8-9ì¼)
```
Week 1: Phase 1 (3ì¼)
â”œâ”€ Day 1: ë¶„ì„ ë° ì„¤ê³„ ê²€ì¦
â”œâ”€ Day 2: ë°±ì—… ë° í…ŒìŠ¤íŠ¸ í™˜ê²½
â””â”€ Day 3: Phase 1 ê²€ì¦ ë° Phase 2 ì¤€ë¹„

Week 2: Phase 2-3 (5-6ì¼)  
â”œâ”€ Day 4: ìƒˆ êµ¬ì¡° ìƒì„± ë° submodule
â”œâ”€ Day 5: ëž˜í¼ ìŠ¤í¬ë¦½íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€ Day 6: ì„¤ì • íŒŒì¼ ë° ê¸°ë³¸ í…ŒìŠ¤íŠ¸
â”œâ”€ Day 7: í†µí•© í…ŒìŠ¤íŠ¸ ë° ì‹¬ë³¼ë¦­ ë§í¬
â”œâ”€ Day 8: ë¬¸ì„œí™” ì™„ì„± ë° ìµœì¢… ê²€ì¦
â””â”€ Day 9: ë°°í¬ ë° ì •ë¦¬ (ì„ íƒì )
```

### ì£¼ìš” ë§ˆì¼ìŠ¤í†¤
- **M1**: Phase 1 ì™„ë£Œ (Day 3)
- **M2**: ê¸°ë³¸ êµ¬ì¡° ì™„ì„± (Day 5)  
- **M3**: í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼ (Day 7)
- **M4**: í”„ë¡œë•ì…˜ ë°°í¬ ì™„ë£Œ (Day 8-9)

ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ í†µí•´ ì•ˆì „í•˜ê³  ì²´ê³„ì ì¸ airgap ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê° ë‹¨ê³„ë³„ë¡œ ëª…í™•í•œ ì²´í¬í¬ì¸íŠ¸ì™€ ë¡¤ë°± ì „ëžµì„ ì œê³µí•˜ì—¬ ìœ„í—˜ì„ ìµœì†Œí™”í•˜ë©´ì„œ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìžˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.