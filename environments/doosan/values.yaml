# ë‘ì‚° ì „ìš© AstraGo í™˜ê²½ ì„¤ì •
# ê¸°ë³¸ ì—°ê²° ì •ë³´ (ê³ ê° í™˜ê²½ì— ë§ì¶° ìˆ˜ì • í•„ìš”)
externalIP: # ë‘ì‚° í´ëŸ¬ìŠ¤í„° IP (ì˜ˆ: 192.168.100.10)

# ğŸ”¥ ì¸ê·¸ë ˆìŠ¤ ì„¤ì • (HTTPS ë„ë©”ì¸ ì ‘ê·¼ìš©) ğŸ”¥
ingress:
  enabled: true                              # ì¸ê·¸ë ˆìŠ¤ í™œì„±í™”
  hostname: "astrago.doosan.com"             # ë‘ì‚° ë„ë©”ì¸ (ê³ ê° ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ë³€ê²½)
  className: "nginx"                         # ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤
  path: "/"
  pathType: "Prefix"
  annotations: {}
  tls:
    enabled: true                            # HTTPS í™œì„±í™”
    secretName: "astrago-doosan-tls"         # ë‘ì‚° ì „ìš© TLS ì‹œí¬ë¦¿
    certManager:
      enabled: true                          # cert-manager ìë™ ì¸ì¦ì„œ
      issuer: "letsencrypt-prod"             # Let's Encrypt ë°œê¸‰ì

# Volume Settings (ë‘ì‚° í™˜ê²½ì— ë§ì¶° ì„¤ì •)
nfs:
  storageClassName: astrago-nfs-csi
  server: # ë‘ì‚° NFS ì„œë²„ IP (ì˜ˆ: 192.168.100.100)
  basePath: /kube_storage/doosan-astrago     # ë‘ì‚° ì „ìš© ê²½ë¡œ

# GPU Process Exporter Settings (í•„ìš”ì‹œ í™œì„±í™”)
gpu-process-exporter:
  enabled: false                             # ë‘ì‚° í™˜ê²½ì—ì„œ GPU ì‚¬ìš©ì‹œ trueë¡œ ë³€ê²½
  collection:
    schedule: "*/5 * * * *"                  # 5ë¶„ë§ˆë‹¤ (ìš´ì˜í™˜ê²½ ê³ ë ¤)
    image:
      repository: busybox
      tag: "1.35"
    resources:
      limits:
        cpu: 100m
        memory: 64Mi
      requests:
        cpu: 50m
        memory: 32Mi
  prometheus:
    serverService: prometheus-kube-prometheus-prometheus.prometheus.svc:9090
  gpu:
    count: 2                                 # ë‘ì‚° í™˜ê²½ GPU ìˆ˜ì— ë§ì¶° ì¡°ì •
    devices: [0, 1]                          # GPU ë””ë°”ì´ìŠ¤ ID
  nodeSelector:
    nvidia.com/gpu.present: "true"
  tolerations:
    - key: nvidia.com/gpu
      operator: Exists
      effect: NoSchedule

# Keycloak Settings
keycloak:
  adminUser: admin
  adminPassword: doosan123!                  # ë‘ì‚° ì „ìš© ë¹„ë°€ë²ˆí˜¸ (ë³´ì•ˆ ê°•í™”)
  servicePort: 30001

# Astrago Settings (ë‘ì‚° íŠ¹í™”)
astrago:
  proxyUrl: "https://astrago.doosan.com"     # ğŸ”¥ HTTPS ë„ë©”ì¸ (í¬íŠ¸ ì œê±°)
  servicePort: 80                            # ì¸ê·¸ë ˆìŠ¤ ì‚¬ìš©ì‹œ í‘œì¤€ í¬íŠ¸
  userInitPassword: doosan2024               # ë‘ì‚° ì „ìš© ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸
  keycloak:
    externalKeycloakUrl:                     # ì™¸ë¶€ Keycloak ì‚¬ìš©ì‹œë§Œ ì„¤ì •
    realm: astrago
    client: astrago-client
    clientSecret: doosanSecret2024           # ë‘ì‚° ì „ìš© í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿
    userInitPassword: doosan2024
  mariadb:
    rootPassword: doosanRoot2024             # ë‘ì‚° ì „ìš© DB ë¹„ë°€ë²ˆí˜¸
    username: astrago
    password: doosanDB2024                   # ë‘ì‚° ì „ìš© DB ë¹„ë°€ë²ˆí˜¸
    maxLifetime: "3595000"
  mongodb:
    url: mongodb://astrago:doosanMongo2024@astrago-mongodb:27017/astrago?authSource=admin
  
  # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸ ì„¤ì •
  core:
    registry: "docker.io"                    # ë˜ëŠ” ë‘ì‚° ì „ìš© ë ˆì§€ìŠ¤íŠ¸ë¦¬
    repository: "xiilab/astrago"
    imageTag: "core-doosan-latest"           # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸
  batch:
    registry: "docker.io"
    repository: "xiilab/astrago"
    imageTag: "batch-doosan-latest"          # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸
  monitor:
    registry: "docker.io"
    repository: "xiilab/astrago"
    imageTag: "monitor-doosan-latest"        # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸
  frontend:
    registry: "docker.io"
    repository: "xiilab/astrago"
    imageTag: "frontend-doosan-latest"       # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸
  experiment:
    registry: "docker.io"
    repository: "xiilab/astrago"
    imageTag: "experiment-doosan-latest"     # ë‘ì‚° ì „ìš© ì´ë¯¸ì§€ íƒœê·¸
  oneview:
    enabled: true

# Loki Settings (ë¡œê·¸ ê´€ë¦¬)
loki:
  replicas: 1
  resources:
    limits:
      cpu: "1000m"
      memory: "2Gi"
    requests:
      cpu: "500m"
      memory: "1Gi"
  persistence:
    enabled: true
    size: "50Gi"                             # ìš´ì˜í™˜ê²½ ê³ ë ¤í•˜ì—¬ í¬ê²Œ ì„¤ì •
    storageClass: "astrago-nfs-csi"
  retention:
    enabled: true
    period: "720h"                           # 30ì¼ ë³´ê´€ (ìš´ì˜í™˜ê²½)
    compaction_interval: "10m"
    delete_delay: "2h"
    delete_worker_count: 150

# Promtail Settings
promtail:
  resources:
    limits:
      cpu: "200m"
      memory: "512Mi"
    requests:
      cpu: "100m"
      memory: "256Mi"

# Harbor ì„¤ì • (ë‘ì‚° ì „ìš© ë ˆì§€ìŠ¤íŠ¸ë¦¬)
harbor:
  enabled: true                              # ë‘ì‚°ì—ì„œ í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì‚¬ìš©ì‹œ
  servicePort: 30002
  adminPassword: DoosanHarbor2024            # ë‘ì‚° ì „ìš© Harbor ë¹„ë°€ë²ˆí˜¸

# ì˜¤í”„ë¼ì¸ ì„¤ì • (í•„ìš”ì‹œ)
offline:
  registry: # harbor.doosan.com:443          # ë‘ì‚° í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬
  httpServer: # http://mirror.doosan.com     # ë‘ì‚° ë¯¸ëŸ¬ ì„œë²„